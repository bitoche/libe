[2025-03-07 03:44:23 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3h1m53s894ms398µs600ns).
[2025-03-07 07:17:49 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3h1m54s964ms206µs800ns).
[2025-03-07 08:57:22 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h9m33s189ms415µs200ns).
[2025-03-07 13:00:00 [SpringApplicationShutdownHook] DEBUG o.s.b.a.ApplicationAvailabilityBean] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
[2025-03-07 13:00:00 [SpringApplicationShutdownHook] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@740d2e78, started on Thu Mar 06 22:03:21 MSK 2025
[2025-03-07 13:00:00 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown] Commencing graceful shutdown. Waiting for active requests to complete
[2025-03-07 13:00:00 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown] Graceful shutdown complete
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] set client_min_messages = WARNING
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FK2adqfbphgg2arjwqwivpc75ds
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FKsnmbsrop5evsoiy5fgnnuisre
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKquddbm52fmsf9mpynxiu4f03i
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKdolwn15jycv0ksyhydub2xplu
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKthii9cpr90jk2cf30qqhrpodi
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKkihxjrhtgy1t03ttdivy1misg
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FKm10txued3b7lehw83x2ol8q58
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FK8uwo17by58tqxegx09f90bdbm
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKm15v5yq7ckv98mhxbhlkpe298
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKai44sfnl5ywap4186w6h5tyac
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKa63sbbvsikyityfy174i8lsvg
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKe29wgv68l62d9scco43s65ch5
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FKll7qdwgjnmw5600yq1vx4i0rn
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FK6e18k1gatjy6gs7q1icakri98
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKbmdppg9ftaaoq7adilxub8hvo
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKowulfmlt929t43hmy8o7bxq0g
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKkxg9brblfr1gedl1lteal7c3t
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKgmnpso59cl1ofp686u9s0x0mj
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists bookshelf drop constraint if exists FKa0hcekyw3gvdpq06qdul0yl9y
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FKsencsq2y9e9k4mq0vvb431hyq
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FK2gwli8nv8yhkygfk4k9vkoc5r
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKq2khfncin6wq582w4gykd7bqo
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKjcoof78lp3shpu2su2qmsenl9
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKgj4elkqd5pg78t1urewuhnfks
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKdy7kki3evupfeagamxrtq1tgh
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_author cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_author_authored_books cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_authors cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_genre cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_genre_books_with_genre cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_genres cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_language cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_language_books_with_this_language cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_publishing_houses cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_status cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_status_books_with_status cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_to_book_relation cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists bookshelf cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists bookshelf_books cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists cabinet cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists cabinet_shelves cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists publishing_house cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists publishing_house_published_books cascade
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown initiated...
[2025-03-07 13:00:01 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown completed.
[2025-03-07 13:07:25 [main] INFO  ru.miit.libe.LibeApplication] Starting LibeApplication v0.0.1 using Java 23.0.1 with PID 19296 (D:\REPOS\libe\target\classes started by bitoche in D:\REPOS\libe)
[2025-03-07 13:07:25 [main] INFO  ru.miit.libe.LibeApplication] The following 1 profile is active: "dev"
[2025-03-07 13:07:25 [main] DEBUG o.s.boot.SpringApplication] Loading source class ru.miit.libe.LibeApplication
[2025-03-07 13:07:25 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@740d2e78
[2025-03-07 13:07:25 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:07:25 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:07:25 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:07:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2025-03-07 13:07:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 22 ms. Found 0 JPA repository interfaces.
[2025-03-07 13:07:27 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 13:07:27 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 13:07:27 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.
[2025-03-07 13:07:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat initialized with port 8080 (http)
[2025-03-07 13:07:27 [main] INFO  o.a.catalina.core.StandardService] Starting service [Tomcat]
[2025-03-07 13:07:27 [main] INFO  o.a.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.36]
[2025-03-07 13:07:27 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[2025-03-07 13:07:27 [main] DEBUG o.s.b.w.s.c.ServletWebServerApplicationContext] Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
[2025-03-07 13:07:27 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 2236 ms
[2025-03-07 13:07:27 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
[2025-03-07 13:07:27 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping servlets: dispatcherServlet urls=[/]
[2025-03-07 13:07:27 [main] DEBUG o.s.b.w.s.f.OrderedRequestContextFilter] Filter 'requestContextFilter' configured for use
[2025-03-07 13:07:27 [main] DEBUG o.s.b.w.s.f.OrderedCharacterEncodingFilter] Filter 'characterEncodingFilter' configured for use
[2025-03-07 13:07:27 [main] DEBUG o.s.b.w.s.f.OrderedFormContentFilter] Filter 'formContentFilter' configured for use
[2025-03-07 13:07:27 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:07:27 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:07:27 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:07:27 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:07:27 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:07:28 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[2025-03-07 13:07:28 [main] INFO  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@53f7a906
[2025-03-07 13:07:28 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[2025-03-07 13:07:29 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean] Failed to initialize JPA EntityManagerFactory: Property 'ru.miit.libe.models.Borrow.borrowStatus' is not a collection and may not be a '@OneToMany', '@ManyToMany', or '@ElementCollection'
[2025-03-07 13:07:29 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Property 'ru.miit.libe.models.Borrow.borrowStatus' is not a collection and may not be a '@OneToMany', '@ManyToMany', or '@ElementCollection'
[2025-03-07 13:07:29 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown initiated...
[2025-03-07 13:07:29 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown completed.
[2025-03-07 13:07:29 [main] INFO  o.a.catalina.core.StandardService] Stopping service [Tomcat]
[2025-03-07 13:07:29 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[2025-03-07 13:07:29 [main] ERROR o.s.boot.SpringApplication] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Property 'ru.miit.libe.models.Borrow.borrowStatus' is not a collection and may not be a '@OneToMany', '@ManyToMany', or '@ElementCollection'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.hibernate.AnnotationException: Property 'ru.miit.libe.models.Borrow.borrowStatus' is not a collection and may not be a '@OneToMany', '@ManyToMany', or '@ElementCollection'
	at org.hibernate.boot.model.internal.CollectionBinder.determineSemanticJavaType(CollectionBinder.java:1121)
	at org.hibernate.boot.model.internal.CollectionBinder.determineCollectionClassification(CollectionBinder.java:1013)
	at org.hibernate.boot.model.internal.CollectionBinder.createBinderAutomatically(CollectionBinder.java:855)
	at org.hibernate.boot.model.internal.CollectionBinder.getCollectionBinder(CollectionBinder.java:848)
	at org.hibernate.boot.model.internal.CollectionBinder.bindCollection(CollectionBinder.java:284)
	at org.hibernate.boot.model.internal.PropertyBinder.bindProperty(PropertyBinder.java:897)
	at org.hibernate.boot.model.internal.PropertyBinder.buildProperty(PropertyBinder.java:811)
	at org.hibernate.boot.model.internal.PropertyBinder.processElementAnnotations(PropertyBinder.java:732)
	at org.hibernate.boot.model.internal.EntityBinder.processIdPropertiesIfNotAlready(EntityBinder.java:1088)
	at org.hibernate.boot.model.internal.EntityBinder.handleIdentifier(EntityBinder.java:419)
	at org.hibernate.boot.model.internal.EntityBinder.bindEntityClass(EntityBinder.java:251)
	at org.hibernate.boot.model.internal.AnnotationBinder.bindClass(AnnotationBinder.java:401)
	at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:257)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:281)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:324)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 15 common frames omitted
[2025-03-07 13:10:25 [main] INFO  ru.miit.libe.LibeApplication] Starting LibeApplication v0.0.1 using Java 23.0.1 with PID 4620 (D:\REPOS\libe\target\classes started by bitoche in D:\REPOS\libe)
[2025-03-07 13:10:25 [main] INFO  ru.miit.libe.LibeApplication] The following 1 profile is active: "dev"
[2025-03-07 13:10:25 [main] DEBUG o.s.boot.SpringApplication] Loading source class ru.miit.libe.LibeApplication
[2025-03-07 13:10:25 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@740d2e78
[2025-03-07 13:10:25 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:10:25 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:10:25 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:10:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2025-03-07 13:10:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 24 ms. Found 0 JPA repository interfaces.
[2025-03-07 13:10:27 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 13:10:27 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 13:10:27 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.
[2025-03-07 13:10:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat initialized with port 8080 (http)
[2025-03-07 13:10:27 [main] INFO  o.a.catalina.core.StandardService] Starting service [Tomcat]
[2025-03-07 13:10:27 [main] INFO  o.a.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.36]
[2025-03-07 13:10:27 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[2025-03-07 13:10:27 [main] DEBUG o.s.b.w.s.c.ServletWebServerApplicationContext] Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
[2025-03-07 13:10:27 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 1936 ms
[2025-03-07 13:10:27 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
[2025-03-07 13:10:27 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping servlets: dispatcherServlet urls=[/]
[2025-03-07 13:10:27 [main] DEBUG o.s.b.w.s.f.OrderedRequestContextFilter] Filter 'requestContextFilter' configured for use
[2025-03-07 13:10:27 [main] DEBUG o.s.b.w.s.f.OrderedCharacterEncodingFilter] Filter 'characterEncodingFilter' configured for use
[2025-03-07 13:10:27 [main] DEBUG o.s.b.w.s.f.OrderedFormContentFilter] Filter 'formContentFilter' configured for use
[2025-03-07 13:10:27 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:10:27 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:10:27 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:10:27 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:10:27 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:10:28 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[2025-03-07 13:10:28 [main] INFO  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2084e65a
[2025-03-07 13:10:28 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[2025-03-07 13:10:28 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean] Failed to initialize JPA EntityManagerFactory: Property 'ru.miit.libe.models.Notification.user' is not a collection and may not be a '@OneToMany', '@ManyToMany', or '@ElementCollection'
[2025-03-07 13:10:28 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Property 'ru.miit.libe.models.Notification.user' is not a collection and may not be a '@OneToMany', '@ManyToMany', or '@ElementCollection'
[2025-03-07 13:10:28 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown initiated...
[2025-03-07 13:10:28 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown completed.
[2025-03-07 13:10:28 [main] INFO  o.a.catalina.core.StandardService] Stopping service [Tomcat]
[2025-03-07 13:10:28 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[2025-03-07 13:10:28 [main] ERROR o.s.boot.SpringApplication] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Property 'ru.miit.libe.models.Notification.user' is not a collection and may not be a '@OneToMany', '@ManyToMany', or '@ElementCollection'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.hibernate.AnnotationException: Property 'ru.miit.libe.models.Notification.user' is not a collection and may not be a '@OneToMany', '@ManyToMany', or '@ElementCollection'
	at org.hibernate.boot.model.internal.CollectionBinder.determineSemanticJavaType(CollectionBinder.java:1121)
	at org.hibernate.boot.model.internal.CollectionBinder.determineCollectionClassification(CollectionBinder.java:1013)
	at org.hibernate.boot.model.internal.CollectionBinder.createBinderAutomatically(CollectionBinder.java:855)
	at org.hibernate.boot.model.internal.CollectionBinder.getCollectionBinder(CollectionBinder.java:848)
	at org.hibernate.boot.model.internal.CollectionBinder.bindCollection(CollectionBinder.java:284)
	at org.hibernate.boot.model.internal.PropertyBinder.bindProperty(PropertyBinder.java:897)
	at org.hibernate.boot.model.internal.PropertyBinder.buildProperty(PropertyBinder.java:811)
	at org.hibernate.boot.model.internal.PropertyBinder.processElementAnnotations(PropertyBinder.java:732)
	at org.hibernate.boot.model.internal.EntityBinder.processIdPropertiesIfNotAlready(EntityBinder.java:1088)
	at org.hibernate.boot.model.internal.EntityBinder.handleIdentifier(EntityBinder.java:419)
	at org.hibernate.boot.model.internal.EntityBinder.bindEntityClass(EntityBinder.java:251)
	at org.hibernate.boot.model.internal.AnnotationBinder.bindClass(AnnotationBinder.java:401)
	at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:257)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:281)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:324)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 15 common frames omitted
[2025-03-07 13:11:49 [main] INFO  ru.miit.libe.LibeApplication] Starting LibeApplication v0.0.1 using Java 23.0.1 with PID 22464 (D:\REPOS\libe\target\classes started by bitoche in D:\REPOS\libe)
[2025-03-07 13:11:49 [main] INFO  ru.miit.libe.LibeApplication] The following 1 profile is active: "dev"
[2025-03-07 13:11:49 [main] DEBUG o.s.boot.SpringApplication] Loading source class ru.miit.libe.LibeApplication
[2025-03-07 13:11:49 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@740d2e78
[2025-03-07 13:11:50 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:11:50 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:11:50 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:11:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2025-03-07 13:11:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 23 ms. Found 0 JPA repository interfaces.
[2025-03-07 13:11:51 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 13:11:51 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 13:11:51 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.
[2025-03-07 13:11:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat initialized with port 8080 (http)
[2025-03-07 13:11:51 [main] INFO  o.a.catalina.core.StandardService] Starting service [Tomcat]
[2025-03-07 13:11:51 [main] INFO  o.a.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.36]
[2025-03-07 13:11:51 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[2025-03-07 13:11:51 [main] DEBUG o.s.b.w.s.c.ServletWebServerApplicationContext] Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
[2025-03-07 13:11:51 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 2078 ms
[2025-03-07 13:11:51 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
[2025-03-07 13:11:51 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping servlets: dispatcherServlet urls=[/]
[2025-03-07 13:11:51 [main] DEBUG o.s.b.w.s.f.OrderedRequestContextFilter] Filter 'requestContextFilter' configured for use
[2025-03-07 13:11:51 [main] DEBUG o.s.b.w.s.f.OrderedCharacterEncodingFilter] Filter 'characterEncodingFilter' configured for use
[2025-03-07 13:11:51 [main] DEBUG o.s.b.w.s.f.OrderedFormContentFilter] Filter 'formContentFilter' configured for use
[2025-03-07 13:11:51 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:11:51 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:11:51 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:11:51 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:11:51 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:11:52 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[2025-03-07 13:11:52 [main] INFO  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@21527b8
[2025-03-07 13:11:52 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[2025-03-07 13:11:53 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean] Failed to initialize JPA EntityManagerFactory: Association 'ru.miit.libe.models.BorrowStatus.borrowWithStatusList' targets the type 'java.util.List' which is not an '@Entity' type
[2025-03-07 13:11:53 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Association 'ru.miit.libe.models.BorrowStatus.borrowWithStatusList' targets the type 'java.util.List' which is not an '@Entity' type
[2025-03-07 13:11:53 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown initiated...
[2025-03-07 13:11:53 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown completed.
[2025-03-07 13:11:53 [main] INFO  o.a.catalina.core.StandardService] Stopping service [Tomcat]
[2025-03-07 13:11:53 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[2025-03-07 13:11:53 [main] ERROR o.s.boot.SpringApplication] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Association 'ru.miit.libe.models.BorrowStatus.borrowWithStatusList' targets the type 'java.util.List' which is not an '@Entity' type
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.hibernate.AnnotationException: Association 'ru.miit.libe.models.BorrowStatus.borrowWithStatusList' targets the type 'java.util.List' which is not an '@Entity' type
	at org.hibernate.boot.model.internal.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:110)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processEndOfQueue(InFlightMetadataCollectorImpl.java:1937)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processFkSecondPassesInOrder(InFlightMetadataCollectorImpl.java:1886)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1794)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:334)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 15 common frames omitted
[2025-03-07 13:12:49 [main] INFO  ru.miit.libe.LibeApplication] Starting LibeApplication v0.0.1 using Java 23.0.1 with PID 17500 (D:\REPOS\libe\target\classes started by bitoche in D:\REPOS\libe)
[2025-03-07 13:12:49 [main] INFO  ru.miit.libe.LibeApplication] The following 1 profile is active: "dev"
[2025-03-07 13:12:49 [main] DEBUG o.s.boot.SpringApplication] Loading source class ru.miit.libe.LibeApplication
[2025-03-07 13:12:49 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@740d2e78
[2025-03-07 13:12:50 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:12:50 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:12:50 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:12:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2025-03-07 13:12:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 23 ms. Found 0 JPA repository interfaces.
[2025-03-07 13:12:51 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 13:12:51 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 13:12:51 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.
[2025-03-07 13:12:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat initialized with port 8080 (http)
[2025-03-07 13:12:51 [main] INFO  o.a.catalina.core.StandardService] Starting service [Tomcat]
[2025-03-07 13:12:51 [main] INFO  o.a.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.36]
[2025-03-07 13:12:52 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[2025-03-07 13:12:52 [main] DEBUG o.s.b.w.s.c.ServletWebServerApplicationContext] Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
[2025-03-07 13:12:52 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 2124 ms
[2025-03-07 13:12:52 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
[2025-03-07 13:12:52 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping servlets: dispatcherServlet urls=[/]
[2025-03-07 13:12:52 [main] DEBUG o.s.b.w.s.f.OrderedRequestContextFilter] Filter 'requestContextFilter' configured for use
[2025-03-07 13:12:52 [main] DEBUG o.s.b.w.s.f.OrderedCharacterEncodingFilter] Filter 'characterEncodingFilter' configured for use
[2025-03-07 13:12:52 [main] DEBUG o.s.b.w.s.f.OrderedFormContentFilter] Filter 'formContentFilter' configured for use
[2025-03-07 13:12:52 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:12:52 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:12:52 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:12:52 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:12:52 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:12:52 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[2025-03-07 13:12:53 [main] INFO  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@e2b3026
[2025-03-07 13:12:53 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[2025-03-07 13:12:53 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean] Failed to initialize JPA EntityManagerFactory: Association 'ru.miit.libe.models.BorrowStatus.borrowWithStatusList' targets the type 'java.util.List' which is not an '@Entity' type
[2025-03-07 13:12:53 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Association 'ru.miit.libe.models.BorrowStatus.borrowWithStatusList' targets the type 'java.util.List' which is not an '@Entity' type
[2025-03-07 13:12:53 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown initiated...
[2025-03-07 13:12:53 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown completed.
[2025-03-07 13:12:53 [main] INFO  o.a.catalina.core.StandardService] Stopping service [Tomcat]
[2025-03-07 13:12:53 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[2025-03-07 13:12:53 [main] ERROR o.s.boot.SpringApplication] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Association 'ru.miit.libe.models.BorrowStatus.borrowWithStatusList' targets the type 'java.util.List' which is not an '@Entity' type
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.hibernate.AnnotationException: Association 'ru.miit.libe.models.BorrowStatus.borrowWithStatusList' targets the type 'java.util.List' which is not an '@Entity' type
	at org.hibernate.boot.model.internal.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:110)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processEndOfQueue(InFlightMetadataCollectorImpl.java:1937)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processFkSecondPassesInOrder(InFlightMetadataCollectorImpl.java:1886)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1794)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:334)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 15 common frames omitted
[2025-03-07 13:15:14 [main] INFO  ru.miit.libe.LibeApplication] Starting LibeApplication v0.0.1 using Java 23.0.1 with PID 24608 (D:\REPOS\libe\target\classes started by bitoche in D:\REPOS\libe)
[2025-03-07 13:15:14 [main] INFO  ru.miit.libe.LibeApplication] The following 1 profile is active: "dev"
[2025-03-07 13:15:14 [main] DEBUG o.s.boot.SpringApplication] Loading source class ru.miit.libe.LibeApplication
[2025-03-07 13:15:14 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@740d2e78
[2025-03-07 13:15:15 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:15:15 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:15:15 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:15:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2025-03-07 13:15:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 23 ms. Found 0 JPA repository interfaces.
[2025-03-07 13:15:16 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 13:15:16 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 13:15:16 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.
[2025-03-07 13:15:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat initialized with port 8080 (http)
[2025-03-07 13:15:16 [main] INFO  o.a.catalina.core.StandardService] Starting service [Tomcat]
[2025-03-07 13:15:16 [main] INFO  o.a.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.36]
[2025-03-07 13:15:16 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[2025-03-07 13:15:16 [main] DEBUG o.s.b.w.s.c.ServletWebServerApplicationContext] Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
[2025-03-07 13:15:16 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 2030 ms
[2025-03-07 13:15:16 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
[2025-03-07 13:15:16 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping servlets: dispatcherServlet urls=[/]
[2025-03-07 13:15:16 [main] DEBUG o.s.b.w.s.f.OrderedRequestContextFilter] Filter 'requestContextFilter' configured for use
[2025-03-07 13:15:16 [main] DEBUG o.s.b.w.s.f.OrderedCharacterEncodingFilter] Filter 'characterEncodingFilter' configured for use
[2025-03-07 13:15:16 [main] DEBUG o.s.b.w.s.f.OrderedFormContentFilter] Filter 'formContentFilter' configured for use
[2025-03-07 13:15:16 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:15:16 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:15:16 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:15:16 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:15:16 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:15:17 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[2025-03-07 13:15:18 [main] INFO  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3dc82e6a
[2025-03-07 13:15:18 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[2025-03-07 13:15:19 [main] DEBUG org.hibernate.SQL] set client_min_messages = WARNING
[2025-03-07 13:15:19 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FK2adqfbphgg2arjwqwivpc75ds
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FKsnmbsrop5evsoiy5fgnnuisre
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKquddbm52fmsf9mpynxiu4f03i
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKdolwn15jycv0ksyhydub2xplu
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKthii9cpr90jk2cf30qqhrpodi
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKkihxjrhtgy1t03ttdivy1misg
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FKm10txued3b7lehw83x2ol8q58
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FK8uwo17by58tqxegx09f90bdbm
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKm15v5yq7ckv98mhxbhlkpe298
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKai44sfnl5ywap4186w6h5tyac
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKa63sbbvsikyityfy174i8lsvg
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKe29wgv68l62d9scco43s65ch5
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FKll7qdwgjnmw5600yq1vx4i0rn
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FK6e18k1gatjy6gs7q1icakri98
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK5wyn87d9nw0j8x98toosovdua
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK3kpfvd84pxte4edaruqbchuxv
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKbmdppg9ftaaoq7adilxub8hvo
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKowulfmlt929t43hmy8o7bxq0g
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKkxg9brblfr1gedl1lteal7c3t
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKgmnpso59cl1ofp686u9s0x0mj
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKodwoyo8500n6jwp8dcxyfi7fn
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf drop constraint if exists FKa0hcekyw3gvdpq06qdul0yl9y
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FKsencsq2y9e9k4mq0vvb431hyq
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FK2gwli8nv8yhkygfk4k9vkoc5r
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FK6bf3iv4jb05pvgko20md1vnhx
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKcrt3r07eir3tnxmtorroljt2b
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKsok8iax7syk50xrbqdkd1q3dy
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKq2khfncin6wq582w4gykd7bqo
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKjcoof78lp3shpu2su2qmsenl9
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists entry_code drop constraint if exists FK5q4q6e0usn80nprte0lu2laah
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists notification drop constraint if exists FKsfpqrmou1eu7a8y497j00j274
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists ordering_books drop constraint if exists FKov2hpm1kdq2hb0ckcl3wki558
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKgj4elkqd5pg78t1urewuhnfks
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKdy7kki3evupfeagamxrtq1tgh
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists user drop constraint if exists FK5u1kmplmrl231m3f0nk2p53ao
[2025-03-07 13:15:20 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl] GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists user drop constraint if exists FK5u1kmplmrl231m3f0nk2p53ao" via JDBC [ERROR: syntax error at or near "user"
  Позиция: 23]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists user drop constraint if exists FK5u1kmplmrl231m3f0nk2p53ao" via JDBC [ERROR: syntax error at or near "user"
  Позиция: 23]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:479)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:245)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "user"
  Позиция: 23
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists user_role_users_with_this_role drop constraint if exists FK97vq3bj986hoi1pt8veacktt7
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists user_role_users_with_this_role drop constraint if exists FKc6i2i4l8v21rt4mfb50bwfaw7
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists book cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists book_author cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists book_author_authored_books cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists book_authors cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre_books_with_genre cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists book_genres cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists book_language cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists book_language_books_with_this_language cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists book_publishing_houses cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation_book_to_book_relations cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists book_status cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists book_status_books_with_status cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists book_to_book_relation cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf_books cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists borrow cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists borrow_status cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet_shelves cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists entry_code cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists notification cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists ordering_books cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house_published_books cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists user cascade
[2025-03-07 13:15:20 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl] GenerationTarget encountered exception accepting command : Error executing DDL "drop table if exists user cascade" via JDBC [ERROR: syntax error at or near "user"
  Позиция: 22]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "drop table if exists user cascade" via JDBC [ERROR: syntax error at or near "user"
  Позиция: 22]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropTables(SchemaDropperImpl.java:384)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:218)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "user"
  Позиция: 22
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists user_role cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] drop table if exists user_role_users_with_this_role cascade
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table book (book_status_book_status_id integer, language_language_id integer, pages_number integer not null, book_id bigint generated by default as identity, release_date timestamp(6), book_name varchar(255), description varchar(255), identifier varchar(255) unique, primary key (book_id))
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table book_author (author_id bigint generated by default as identity, birth_date timestamp(6), first_name varchar(255), identifier varchar(255) unique, second_name varchar(255), third_name varchar(255), primary key (author_id))
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table book_author_authored_books (authored_books_book_id bigint not null, book_author_author_id bigint not null)
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table book_authors (authors_author_id bigint not null, book_book_id bigint not null)
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table book_genre (genre_id integer generated by default as identity, genre_name varchar(255), primary key (genre_id))
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table book_genre_books_with_genre (book_genre_genre_id integer not null, books_with_genre_book_id bigint not null)
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table book_genres (genres_genre_id integer not null, book_book_id bigint not null)
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table book_language (language_id integer generated by default as identity, language_name varchar(255), primary key (language_id))
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table book_language_books_with_this_language (book_language_language_id integer not null, books_with_this_language_book_id bigint not null)
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table book_publishing_houses (book_book_id bigint not null, publishing_houses_publishing_house_id bigint not null)
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table book_relation (relation_id integer generated by default as identity, relation_name varchar(255), primary key (relation_id))
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table book_relation_book_to_book_relations (book_relation_relation_id integer not null, book_to_book_relations_relation_id integer not null unique)
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table book_status (book_status_id integer generated by default as identity, status_name varchar(255), primary key (book_status_id))
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table book_status_books_with_status (book_status_book_status_id integer not null, books_with_status_book_id bigint not null)
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table book_to_book_relation (relation_id integer generated by default as identity, relation_relation_id integer, main_book_book_id bigint, related_book_book_id bigint, relation_description varchar(255), primary key (relation_id))
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table bookshelf (cabinet_cabinet_id integer, shelf_id integer generated by default as identity, shelf_name varchar(255), primary key (shelf_id))
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table bookshelf_books (bookshelf_shelf_id integer not null, books_book_id bigint not null unique)
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table borrow (borrow_status_borrow_status_id integer, redemption_price_if_loss integer, borrow_dttm timestamp(6), borrow_id bigint generated by default as identity, borrowed_book_book_id bigint, borrowed_user_user_id bigint, expected_return_date timestamp(6), primary key (borrow_id))
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table borrow_status (borrow_status_id integer generated by default as identity, status_name varchar(255), primary key (borrow_status_id))
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table cabinet (cabinet_id integer generated by default as identity, cabinet_number integer not null, cabinet_name varchar(255), primary key (cabinet_id))
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table cabinet_shelves (cabinet_cabinet_id integer not null, shelves_shelf_id integer not null unique)
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table entry_code (code_id bigint generated by default as identity, expire_date_time timestamp(6), user_user_id bigint unique, code varchar(255), primary key (code_id))
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table notification (notification_dttm timestamp(6), notification_id bigint generated by default as identity, user_user_id bigint, text varchar(255), title varchar(255), primary key (notification_id))
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table ordering_books (is_active boolean not null, expected_arrival_date timestamp(6), ordered_administrator_user_id bigint, ordering_dttm timestamp(6), ordering_id bigint generated by default as identity, comment varchar(255), ordered_books_details varchar(255) array, primary key (ordering_id))
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table publishing_house (publishing_house_id bigint generated by default as identity, publishing_house_name varchar(255), primary key (publishing_house_id))
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table publishing_house_published_books (published_books_book_id bigint not null, publishing_house_publishing_house_id bigint not null)
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table user (role_role_id integer, birth_date timestamp(6), user_id bigint generated by default as identity, email varchar(255) unique, first_name varchar(255), password varchar(255), second_name varchar(255), third_name varchar(255), primary key (user_id))
[2025-03-07 13:15:20 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl] GenerationTarget encountered exception accepting command : Error executing DDL "create table user (role_role_id integer, birth_date timestamp(6), user_id bigint generated by default as identity, email varchar(255) unique, first_name varchar(255), password varchar(255), second_name varchar(255), third_name varchar(255), primary key (user_id))" via JDBC [ERROR: syntax error at or near "user"
  Позиция: 14]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "create table user (role_role_id integer, birth_date timestamp(6), user_id bigint generated by default as identity, email varchar(255) unique, first_name varchar(255), password varchar(255), second_name varchar(255), third_name varchar(255), primary key (user_id))" via JDBC [ERROR: syntax error at or near "user"
  Позиция: 14]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTables(SchemaCreatorImpl.java:430)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:346)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "user"
  Позиция: 14
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table user_role (role_id integer generated by default as identity, role_name varchar(255), primary key (role_id))
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] create table user_role_users_with_this_role (user_role_role_id integer not null, users_with_this_role_user_id bigint not null unique)
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book add constraint FK2adqfbphgg2arjwqwivpc75ds foreign key (book_status_book_status_id) references book_status
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book add constraint FKsnmbsrop5evsoiy5fgnnuisre foreign key (language_language_id) references book_language
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books add constraint FKquddbm52fmsf9mpynxiu4f03i foreign key (authored_books_book_id) references book
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books add constraint FKdolwn15jycv0ksyhydub2xplu foreign key (book_author_author_id) references book_author
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors add constraint FKthii9cpr90jk2cf30qqhrpodi foreign key (authors_author_id) references book_author
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors add constraint FKkihxjrhtgy1t03ttdivy1misg foreign key (book_book_id) references book
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre add constraint FKm10txued3b7lehw83x2ol8q58 foreign key (books_with_genre_book_id) references book
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre add constraint FK8uwo17by58tqxegx09f90bdbm foreign key (book_genre_genre_id) references book_genre
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres add constraint FKm15v5yq7ckv98mhxbhlkpe298 foreign key (genres_genre_id) references book_genre
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres add constraint FKai44sfnl5ywap4186w6h5tyac foreign key (book_book_id) references book
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language add constraint FKa63sbbvsikyityfy174i8lsvg foreign key (books_with_this_language_book_id) references book
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language add constraint FKe29wgv68l62d9scco43s65ch5 foreign key (book_language_language_id) references book_language
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses add constraint FKll7qdwgjnmw5600yq1vx4i0rn foreign key (publishing_houses_publishing_house_id) references publishing_house
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses add constraint FK6e18k1gatjy6gs7q1icakri98 foreign key (book_book_id) references book
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations add constraint FK5wyn87d9nw0j8x98toosovdua foreign key (book_to_book_relations_relation_id) references book_to_book_relation
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations add constraint FK3kpfvd84pxte4edaruqbchuxv foreign key (book_relation_relation_id) references book_relation
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status add constraint FKbmdppg9ftaaoq7adilxub8hvo foreign key (books_with_status_book_id) references book
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status add constraint FKowulfmlt929t43hmy8o7bxq0g foreign key (book_status_book_status_id) references book_status
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKkxg9brblfr1gedl1lteal7c3t foreign key (main_book_book_id) references book
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKgmnpso59cl1ofp686u9s0x0mj foreign key (related_book_book_id) references book
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKodwoyo8500n6jwp8dcxyfi7fn foreign key (relation_relation_id) references book_relation
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf add constraint FKa0hcekyw3gvdpq06qdul0yl9y foreign key (cabinet_cabinet_id) references cabinet
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books add constraint FKsencsq2y9e9k4mq0vvb431hyq foreign key (books_book_id) references book
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books add constraint FK2gwli8nv8yhkygfk4k9vkoc5r foreign key (bookshelf_shelf_id) references bookshelf
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FK6bf3iv4jb05pvgko20md1vnhx foreign key (borrow_status_borrow_status_id) references borrow_status
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FKcrt3r07eir3tnxmtorroljt2b foreign key (borrowed_book_book_id) references book
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FKsok8iax7syk50xrbqdkd1q3dy foreign key (borrowed_user_user_id) references user
[2025-03-07 13:15:20 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl] GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists borrow add constraint FKsok8iax7syk50xrbqdkd1q3dy foreign key (borrowed_user_user_id) references user" via JDBC [ERROR: syntax error at or near "user"
  Позиция: 120]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists borrow add constraint FKsok8iax7syk50xrbqdkd1q3dy foreign key (borrowed_user_user_id) references user" via JDBC [ERROR: syntax error at or near "user"
  Позиция: 120]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createForeignKeys(SchemaCreatorImpl.java:307)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:253)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "user"
  Позиция: 120
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 38 common frames omitted
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves add constraint FKq2khfncin6wq582w4gykd7bqo foreign key (shelves_shelf_id) references bookshelf
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves add constraint FKjcoof78lp3shpu2su2qmsenl9 foreign key (cabinet_cabinet_id) references cabinet
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists entry_code add constraint FK5q4q6e0usn80nprte0lu2laah foreign key (user_user_id) references user on delete cascade
[2025-03-07 13:15:20 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl] GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists entry_code add constraint FK5q4q6e0usn80nprte0lu2laah foreign key (user_user_id) references user on delete cascade" via JDBC [ERROR: syntax error at or near "user"
  Позиция: 115]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists entry_code add constraint FK5q4q6e0usn80nprte0lu2laah foreign key (user_user_id) references user on delete cascade" via JDBC [ERROR: syntax error at or near "user"
  Позиция: 115]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createForeignKeys(SchemaCreatorImpl.java:307)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:253)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "user"
  Позиция: 115
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 38 common frames omitted
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists notification add constraint FKsfpqrmou1eu7a8y497j00j274 foreign key (user_user_id) references user
[2025-03-07 13:15:20 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl] GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists notification add constraint FKsfpqrmou1eu7a8y497j00j274 foreign key (user_user_id) references user" via JDBC [ERROR: syntax error at or near "user"
  Позиция: 117]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists notification add constraint FKsfpqrmou1eu7a8y497j00j274 foreign key (user_user_id) references user" via JDBC [ERROR: syntax error at or near "user"
  Позиция: 117]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createForeignKeys(SchemaCreatorImpl.java:307)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:253)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "user"
  Позиция: 117
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 38 common frames omitted
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists ordering_books add constraint FKov2hpm1kdq2hb0ckcl3wki558 foreign key (ordered_administrator_user_id) references user
[2025-03-07 13:15:20 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl] GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists ordering_books add constraint FKov2hpm1kdq2hb0ckcl3wki558 foreign key (ordered_administrator_user_id) references user" via JDBC [ERROR: syntax error at or near "user"
  Позиция: 136]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists ordering_books add constraint FKov2hpm1kdq2hb0ckcl3wki558 foreign key (ordered_administrator_user_id) references user" via JDBC [ERROR: syntax error at or near "user"
  Позиция: 136]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createForeignKeys(SchemaCreatorImpl.java:307)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:253)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "user"
  Позиция: 136
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 38 common frames omitted
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books add constraint FKgj4elkqd5pg78t1urewuhnfks foreign key (published_books_book_id) references book
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books add constraint FKdy7kki3evupfeagamxrtq1tgh foreign key (publishing_house_publishing_house_id) references publishing_house
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists user add constraint FK5u1kmplmrl231m3f0nk2p53ao foreign key (role_role_id) references user_role
[2025-03-07 13:15:20 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl] GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists user add constraint FK5u1kmplmrl231m3f0nk2p53ao foreign key (role_role_id) references user_role" via JDBC [ERROR: syntax error at or near "user"
  Позиция: 23]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists user add constraint FK5u1kmplmrl231m3f0nk2p53ao foreign key (role_role_id) references user_role" via JDBC [ERROR: syntax error at or near "user"
  Позиция: 23]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createForeignKeys(SchemaCreatorImpl.java:307)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:253)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "user"
  Позиция: 23
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 38 common frames omitted
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists user_role_users_with_this_role add constraint FK97vq3bj986hoi1pt8veacktt7 foreign key (users_with_this_role_user_id) references user
[2025-03-07 13:15:20 [main] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl] GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists user_role_users_with_this_role add constraint FK97vq3bj986hoi1pt8veacktt7 foreign key (users_with_this_role_user_id) references user" via JDBC [ERROR: syntax error at or near "user"
  Позиция: 151]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists user_role_users_with_this_role add constraint FK97vq3bj986hoi1pt8veacktt7 foreign key (users_with_this_role_user_id) references user" via JDBC [ERROR: syntax error at or near "user"
  Позиция: 151]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createForeignKeys(SchemaCreatorImpl.java:307)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:253)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "user"
  Позиция: 151
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 38 common frames omitted
[2025-03-07 13:15:20 [main] DEBUG org.hibernate.SQL] alter table if exists user_role_users_with_this_role add constraint FKc6i2i4l8v21rt4mfb50bwfaw7 foreign key (user_role_role_id) references user_role
[2025-03-07 13:15:20 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping] 2 mappings in 'requestMappingHandlerMapping'
[2025-03-07 13:15:20 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
[2025-03-07 13:15:20 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
[2025-03-07 13:15:21 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
[2025-03-07 13:15:21 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'MAIL_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:15:21 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'MAIL_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:15:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat started on port 8080 (http) with context path '/'
[2025-03-07 13:15:21 [main] INFO  ru.miit.libe.LibeApplication] Started LibeApplication in 7.502 seconds (process running for 8.316)
[2025-03-07 13:15:21 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean] Application availability state LivenessState changed to CORRECT
[2025-03-07 13:15:21 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG o.s.b.a.ApplicationAvailabilityBean] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@740d2e78, started on Fri Mar 07 13:15:14 MSK 2025
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown] Commencing graceful shutdown. Waiting for active requests to complete
[2025-03-07 13:15:59 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown] Graceful shutdown complete
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] set client_min_messages = WARNING
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FK2adqfbphgg2arjwqwivpc75ds
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FKsnmbsrop5evsoiy5fgnnuisre
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKquddbm52fmsf9mpynxiu4f03i
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKdolwn15jycv0ksyhydub2xplu
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKthii9cpr90jk2cf30qqhrpodi
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKkihxjrhtgy1t03ttdivy1misg
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FKm10txued3b7lehw83x2ol8q58
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FK8uwo17by58tqxegx09f90bdbm
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKm15v5yq7ckv98mhxbhlkpe298
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKai44sfnl5ywap4186w6h5tyac
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKa63sbbvsikyityfy174i8lsvg
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKe29wgv68l62d9scco43s65ch5
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FKll7qdwgjnmw5600yq1vx4i0rn
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FK6e18k1gatjy6gs7q1icakri98
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK5wyn87d9nw0j8x98toosovdua
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK3kpfvd84pxte4edaruqbchuxv
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKbmdppg9ftaaoq7adilxub8hvo
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKowulfmlt929t43hmy8o7bxq0g
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKkxg9brblfr1gedl1lteal7c3t
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKgmnpso59cl1ofp686u9s0x0mj
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKodwoyo8500n6jwp8dcxyfi7fn
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists bookshelf drop constraint if exists FKa0hcekyw3gvdpq06qdul0yl9y
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FKsencsq2y9e9k4mq0vvb431hyq
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FK2gwli8nv8yhkygfk4k9vkoc5r
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FK6bf3iv4jb05pvgko20md1vnhx
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKcrt3r07eir3tnxmtorroljt2b
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKsok8iax7syk50xrbqdkd1q3dy
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKq2khfncin6wq582w4gykd7bqo
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKjcoof78lp3shpu2su2qmsenl9
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists entry_code drop constraint if exists FK5q4q6e0usn80nprte0lu2laah
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists notification drop constraint if exists FKsfpqrmou1eu7a8y497j00j274
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists ordering_books drop constraint if exists FKov2hpm1kdq2hb0ckcl3wki558
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKgj4elkqd5pg78t1urewuhnfks
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKdy7kki3evupfeagamxrtq1tgh
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists user drop constraint if exists FK5u1kmplmrl231m3f0nk2p53ao
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl] HHH000478: Unsuccessful: alter table if exists user drop constraint if exists FK5u1kmplmrl231m3f0nk2p53ao
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists user_role_users_with_this_role drop constraint if exists FK97vq3bj986hoi1pt8veacktt7
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists user_role_users_with_this_role drop constraint if exists FKc6i2i4l8v21rt4mfb50bwfaw7
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_author cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_author_authored_books cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_authors cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_genre cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_genre_books_with_genre cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_genres cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_language cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_language_books_with_this_language cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_publishing_houses cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_relation cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_relation_book_to_book_relations cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_status cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_status_books_with_status cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_to_book_relation cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists bookshelf cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists bookshelf_books cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists borrow cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists borrow_status cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists cabinet cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists cabinet_shelves cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists entry_code cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists notification cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists ordering_books cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists publishing_house cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists publishing_house_published_books cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists user cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] ERROR o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl] HHH000478: Unsuccessful: drop table if exists user cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists user_role cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists user_role_users_with_this_role cascade
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown initiated...
[2025-03-07 13:15:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown completed.
[2025-03-07 13:16:04 [main] INFO  ru.miit.libe.LibeApplication] Starting LibeApplication v0.0.1 using Java 23.0.1 with PID 2508 (D:\REPOS\libe\target\classes started by bitoche in D:\REPOS\libe)
[2025-03-07 13:16:04 [main] INFO  ru.miit.libe.LibeApplication] The following 1 profile is active: "dev"
[2025-03-07 13:16:04 [main] DEBUG o.s.boot.SpringApplication] Loading source class ru.miit.libe.LibeApplication
[2025-03-07 13:16:04 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@740d2e78
[2025-03-07 13:16:05 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:16:05 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:16:05 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:16:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2025-03-07 13:16:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 19 ms. Found 0 JPA repository interfaces.
[2025-03-07 13:16:06 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 13:16:06 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 13:16:06 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.
[2025-03-07 13:16:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat initialized with port 8080 (http)
[2025-03-07 13:16:06 [main] INFO  o.a.catalina.core.StandardService] Starting service [Tomcat]
[2025-03-07 13:16:06 [main] INFO  o.a.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.36]
[2025-03-07 13:16:06 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[2025-03-07 13:16:06 [main] DEBUG o.s.b.w.s.c.ServletWebServerApplicationContext] Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
[2025-03-07 13:16:06 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 1979 ms
[2025-03-07 13:16:06 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
[2025-03-07 13:16:06 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping servlets: dispatcherServlet urls=[/]
[2025-03-07 13:16:06 [main] DEBUG o.s.b.w.s.f.OrderedRequestContextFilter] Filter 'requestContextFilter' configured for use
[2025-03-07 13:16:06 [main] DEBUG o.s.b.w.s.f.OrderedCharacterEncodingFilter] Filter 'characterEncodingFilter' configured for use
[2025-03-07 13:16:06 [main] DEBUG o.s.b.w.s.f.OrderedFormContentFilter] Filter 'formContentFilter' configured for use
[2025-03-07 13:16:06 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:16:06 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:16:06 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:16:06 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:16:06 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:16:07 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[2025-03-07 13:16:07 [main] INFO  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@53f7a906
[2025-03-07 13:16:07 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] set client_min_messages = WARNING
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKg0kyf1gbyr6lwu0iumorpgqv6
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKqybncm6c5iudwye9hdht6rxbq
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FK2adqfbphgg2arjwqwivpc75ds
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FKsnmbsrop5evsoiy5fgnnuisre
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKquddbm52fmsf9mpynxiu4f03i
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKdolwn15jycv0ksyhydub2xplu
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKthii9cpr90jk2cf30qqhrpodi
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKkihxjrhtgy1t03ttdivy1misg
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FKm10txued3b7lehw83x2ol8q58
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FK8uwo17by58tqxegx09f90bdbm
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKm15v5yq7ckv98mhxbhlkpe298
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKai44sfnl5ywap4186w6h5tyac
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKa63sbbvsikyityfy174i8lsvg
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKe29wgv68l62d9scco43s65ch5
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FKll7qdwgjnmw5600yq1vx4i0rn
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FK6e18k1gatjy6gs7q1icakri98
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK5wyn87d9nw0j8x98toosovdua
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK3kpfvd84pxte4edaruqbchuxv
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKbmdppg9ftaaoq7adilxub8hvo
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKowulfmlt929t43hmy8o7bxq0g
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKkxg9brblfr1gedl1lteal7c3t
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKgmnpso59cl1ofp686u9s0x0mj
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKodwoyo8500n6jwp8dcxyfi7fn
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf drop constraint if exists FKa0hcekyw3gvdpq06qdul0yl9y
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FKsencsq2y9e9k4mq0vvb431hyq
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FK2gwli8nv8yhkygfk4k9vkoc5r
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FK6bf3iv4jb05pvgko20md1vnhx
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKcrt3r07eir3tnxmtorroljt2b
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKo6699pip10k6hsldtjbn846uo
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKq2khfncin6wq582w4gykd7bqo
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKjcoof78lp3shpu2su2qmsenl9
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists entry_code drop constraint if exists FKornnaqf5kmqy4qgg6iw2x43rc
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists notification drop constraint if exists FKnosulxdrf81d3yyo9w2vq5shi
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists ordering_books drop constraint if exists FKi26d365qgpl45rygl9fufr7lw
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKgj4elkqd5pg78t1urewuhnfks
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKdy7kki3evupfeagamxrtq1tgh
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] alter table if exists "user" drop constraint if exists FK66pempyucigmjpecjl2ay1wxh
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists "user_role_users_with_this_role" cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists book cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists book_author cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists book_author_authored_books cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists book_authors cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre_books_with_genre cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists book_genres cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists book_language cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists book_language_books_with_this_language cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists book_publishing_houses cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation_book_to_book_relations cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists book_status cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists book_status_books_with_status cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists book_to_book_relation cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf_books cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists borrow cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists borrow_status cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet_shelves cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists entry_code cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists notification cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists ordering_books cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house_published_books cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists "user" cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] drop table if exists user_role cascade
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table "user_role_users_with_this_role" (user_role_role_id integer not null, "users_with_this_role_user_id" bigint not null unique)
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table book (book_status_book_status_id integer, language_language_id integer, pages_number integer not null, book_id bigint generated by default as identity, release_date timestamp(6), book_name varchar(255), description varchar(255), identifier varchar(255) unique, primary key (book_id))
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table book_author (author_id bigint generated by default as identity, birth_date timestamp(6), first_name varchar(255), identifier varchar(255) unique, second_name varchar(255), third_name varchar(255), primary key (author_id))
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table book_author_authored_books (authored_books_book_id bigint not null, book_author_author_id bigint not null)
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table book_authors (authors_author_id bigint not null, book_book_id bigint not null)
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table book_genre (genre_id integer generated by default as identity, genre_name varchar(255), primary key (genre_id))
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table book_genre_books_with_genre (book_genre_genre_id integer not null, books_with_genre_book_id bigint not null)
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table book_genres (genres_genre_id integer not null, book_book_id bigint not null)
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table book_language (language_id integer generated by default as identity, language_name varchar(255), primary key (language_id))
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table book_language_books_with_this_language (book_language_language_id integer not null, books_with_this_language_book_id bigint not null)
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table book_publishing_houses (book_book_id bigint not null, publishing_houses_publishing_house_id bigint not null)
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table book_relation (relation_id integer generated by default as identity, relation_name varchar(255), primary key (relation_id))
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table book_relation_book_to_book_relations (book_relation_relation_id integer not null, book_to_book_relations_relation_id integer not null unique)
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table book_status (book_status_id integer generated by default as identity, status_name varchar(255), primary key (book_status_id))
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table book_status_books_with_status (book_status_book_status_id integer not null, books_with_status_book_id bigint not null)
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table book_to_book_relation (relation_id integer generated by default as identity, relation_relation_id integer, main_book_book_id bigint, related_book_book_id bigint, relation_description varchar(255), primary key (relation_id))
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table bookshelf (cabinet_cabinet_id integer, shelf_id integer generated by default as identity, shelf_name varchar(255), primary key (shelf_id))
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table bookshelf_books (bookshelf_shelf_id integer not null, books_book_id bigint not null unique)
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table borrow (borrow_status_borrow_status_id integer, redemption_price_if_loss integer, borrow_dttm timestamp(6), borrow_id bigint generated by default as identity, borrowed_book_book_id bigint, "borrowed_user_user_id" bigint, expected_return_date timestamp(6), primary key (borrow_id))
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table borrow_status (borrow_status_id integer generated by default as identity, status_name varchar(255), primary key (borrow_status_id))
[2025-03-07 13:16:09 [main] DEBUG org.hibernate.SQL] create table cabinet (cabinet_id integer generated by default as identity, cabinet_number integer not null, cabinet_name varchar(255), primary key (cabinet_id))
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] create table cabinet_shelves (cabinet_cabinet_id integer not null, shelves_shelf_id integer not null unique)
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] create table entry_code (code_id bigint generated by default as identity, expire_date_time timestamp(6), "user_user_id" bigint unique, code varchar(255), primary key (code_id))
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] create table notification (notification_dttm timestamp(6), notification_id bigint generated by default as identity, "user_user_id" bigint, text varchar(255), title varchar(255), primary key (notification_id))
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] create table ordering_books (is_active boolean not null, expected_arrival_date timestamp(6), "ordered_administrator_user_id" bigint, ordering_dttm timestamp(6), ordering_id bigint generated by default as identity, comment varchar(255), ordered_books_details varchar(255) array, primary key (ordering_id))
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] create table publishing_house (publishing_house_id bigint generated by default as identity, publishing_house_name varchar(255), primary key (publishing_house_id))
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] create table publishing_house_published_books (published_books_book_id bigint not null, publishing_house_publishing_house_id bigint not null)
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] create table "user" (role_role_id integer, birth_date timestamp(6), user_id bigint generated by default as identity, email varchar(255) unique, first_name varchar(255), password varchar(255), second_name varchar(255), third_name varchar(255), primary key (user_id))
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] create table user_role (role_id integer generated by default as identity, role_name varchar(255), primary key (role_id))
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" add constraint FKg0kyf1gbyr6lwu0iumorpgqv6 foreign key ("users_with_this_role_user_id") references "user"
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" add constraint FKqybncm6c5iudwye9hdht6rxbq foreign key (user_role_role_id) references user_role
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book add constraint FK2adqfbphgg2arjwqwivpc75ds foreign key (book_status_book_status_id) references book_status
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book add constraint FKsnmbsrop5evsoiy5fgnnuisre foreign key (language_language_id) references book_language
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books add constraint FKquddbm52fmsf9mpynxiu4f03i foreign key (authored_books_book_id) references book
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books add constraint FKdolwn15jycv0ksyhydub2xplu foreign key (book_author_author_id) references book_author
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors add constraint FKthii9cpr90jk2cf30qqhrpodi foreign key (authors_author_id) references book_author
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors add constraint FKkihxjrhtgy1t03ttdivy1misg foreign key (book_book_id) references book
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre add constraint FKm10txued3b7lehw83x2ol8q58 foreign key (books_with_genre_book_id) references book
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre add constraint FK8uwo17by58tqxegx09f90bdbm foreign key (book_genre_genre_id) references book_genre
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres add constraint FKm15v5yq7ckv98mhxbhlkpe298 foreign key (genres_genre_id) references book_genre
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres add constraint FKai44sfnl5ywap4186w6h5tyac foreign key (book_book_id) references book
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language add constraint FKa63sbbvsikyityfy174i8lsvg foreign key (books_with_this_language_book_id) references book
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language add constraint FKe29wgv68l62d9scco43s65ch5 foreign key (book_language_language_id) references book_language
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses add constraint FKll7qdwgjnmw5600yq1vx4i0rn foreign key (publishing_houses_publishing_house_id) references publishing_house
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses add constraint FK6e18k1gatjy6gs7q1icakri98 foreign key (book_book_id) references book
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations add constraint FK5wyn87d9nw0j8x98toosovdua foreign key (book_to_book_relations_relation_id) references book_to_book_relation
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations add constraint FK3kpfvd84pxte4edaruqbchuxv foreign key (book_relation_relation_id) references book_relation
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status add constraint FKbmdppg9ftaaoq7adilxub8hvo foreign key (books_with_status_book_id) references book
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status add constraint FKowulfmlt929t43hmy8o7bxq0g foreign key (book_status_book_status_id) references book_status
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKkxg9brblfr1gedl1lteal7c3t foreign key (main_book_book_id) references book
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKgmnpso59cl1ofp686u9s0x0mj foreign key (related_book_book_id) references book
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKodwoyo8500n6jwp8dcxyfi7fn foreign key (relation_relation_id) references book_relation
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf add constraint FKa0hcekyw3gvdpq06qdul0yl9y foreign key (cabinet_cabinet_id) references cabinet
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books add constraint FKsencsq2y9e9k4mq0vvb431hyq foreign key (books_book_id) references book
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books add constraint FK2gwli8nv8yhkygfk4k9vkoc5r foreign key (bookshelf_shelf_id) references bookshelf
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FK6bf3iv4jb05pvgko20md1vnhx foreign key (borrow_status_borrow_status_id) references borrow_status
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FKcrt3r07eir3tnxmtorroljt2b foreign key (borrowed_book_book_id) references book
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FKo6699pip10k6hsldtjbn846uo foreign key ("borrowed_user_user_id") references "user"
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves add constraint FKq2khfncin6wq582w4gykd7bqo foreign key (shelves_shelf_id) references bookshelf
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves add constraint FKjcoof78lp3shpu2su2qmsenl9 foreign key (cabinet_cabinet_id) references cabinet
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists entry_code add constraint FKornnaqf5kmqy4qgg6iw2x43rc foreign key ("user_user_id") references "user" on delete cascade
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists notification add constraint FKnosulxdrf81d3yyo9w2vq5shi foreign key ("user_user_id") references "user"
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists ordering_books add constraint FKi26d365qgpl45rygl9fufr7lw foreign key ("ordered_administrator_user_id") references "user"
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books add constraint FKgj4elkqd5pg78t1urewuhnfks foreign key (published_books_book_id) references book
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books add constraint FKdy7kki3evupfeagamxrtq1tgh foreign key (publishing_house_publishing_house_id) references publishing_house
[2025-03-07 13:16:10 [main] DEBUG org.hibernate.SQL] alter table if exists "user" add constraint FK66pempyucigmjpecjl2ay1wxh foreign key (role_role_id) references user_role
[2025-03-07 13:16:10 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping] 2 mappings in 'requestMappingHandlerMapping'
[2025-03-07 13:16:10 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
[2025-03-07 13:16:10 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
[2025-03-07 13:16:10 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
[2025-03-07 13:16:10 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'MAIL_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:16:10 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'MAIL_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 13:16:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat started on port 8080 (http) with context path '/'
[2025-03-07 13:16:11 [main] INFO  ru.miit.libe.LibeApplication] Started LibeApplication in 7.09 seconds (process running for 7.865)
[2025-03-07 13:16:11 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean] Application availability state LivenessState changed to CORRECT
[2025-03-07 13:16:11 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[2025-03-07 14:46:09 [main] INFO  ru.miit.libe.LibeApplication] Starting LibeApplication v0.0.1 using Java 23.0.1 with PID 15556 (D:\REPOS\libe\target\classes started by bitoche in D:\REPOS\libe)
[2025-03-07 14:46:09 [main] INFO  ru.miit.libe.LibeApplication] The following 1 profile is active: "dev"
[2025-03-07 14:46:09 [main] DEBUG o.s.boot.SpringApplication] Loading source class ru.miit.libe.LibeApplication
[2025-03-07 14:46:09 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ee86bcb
[2025-03-07 14:46:09 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:46:09 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:46:09 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:46:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2025-03-07 14:46:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 97 ms. Found 18 JPA repository interfaces.
[2025-03-07 14:46:10 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:46:10 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:46:10 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.
[2025-03-07 14:46:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat initialized with port 8080 (http)
[2025-03-07 14:46:10 [main] INFO  o.a.catalina.core.StandardService] Starting service [Tomcat]
[2025-03-07 14:46:10 [main] INFO  o.a.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.36]
[2025-03-07 14:46:10 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[2025-03-07 14:46:10 [main] DEBUG o.s.b.w.s.c.ServletWebServerApplicationContext] Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
[2025-03-07 14:46:10 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 1722 ms
[2025-03-07 14:46:10 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
[2025-03-07 14:46:10 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping servlets: dispatcherServlet urls=[/]
[2025-03-07 14:46:10 [main] DEBUG o.s.b.w.s.f.OrderedRequestContextFilter] Filter 'requestContextFilter' configured for use
[2025-03-07 14:46:10 [main] DEBUG o.s.b.w.s.f.OrderedCharacterEncodingFilter] Filter 'characterEncodingFilter' configured for use
[2025-03-07 14:46:10 [main] DEBUG o.s.b.w.s.f.OrderedFormContentFilter] Filter 'formContentFilter' configured for use
[2025-03-07 14:46:10 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:46:10 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:46:10 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:46:10 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:46:10 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:46:11 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[2025-03-07 14:46:12 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper] SQL Error: 0, SQLState: 08001
[2025-03-07 14:46:12 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper] Подсоединение по адресу localhost:5432 отклонено. Проверьте что хост и порт указаны правильно и что postmaster принимает TCP/IP-подсоединения.
[2025-03-07 14:46:12 [main] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator] HHH000342: Could not obtain connection to query metadata
org.hibernate.exception.JDBCConnectionException: unable to obtain isolated JDBC connection [Подсоединение по адресу localhost:5432 отклонено. Проверьте что хост и порт указаны правильно и что postmaster принимает TCP/IP-подсоединения.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:320)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.postgresql.util.PSQLException: Подсоединение по адресу localhost:5432 отклонено. Проверьте что хост и порт указаны правильно и что postmaster принимает TCP/IP-подсоединения.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:352)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:273)
	at org.postgresql.Driver.makeConnection(Driver.java:446)
	at org.postgresql.Driver.connect(Driver.java:298)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:467)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	... 35 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:760)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:260)
	at org.postgresql.core.PGStream.<init>(PGStream.java:121)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:140)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:268)
	... 49 common frames omitted
[2025-03-07 14:46:12 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean] Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
[2025-03-07 14:46:12 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
[2025-03-07 14:46:12 [main] INFO  o.a.catalina.core.StandardService] Stopping service [Tomcat]
[2025-03-07 14:46:12 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[2025-03-07 14:46:12 [main] ERROR o.s.boot.SpringApplication] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:276)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 15 common frames omitted
Caused by: org.hibernate.HibernateException: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:191)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:87)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentWithDefaults(JdbcEnvironmentInitiator.java:181)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:392)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	... 30 common frames omitted
[2025-03-07 14:46:51 [main] INFO  ru.miit.libe.LibeApplication] Starting LibeApplication v0.0.1 using Java 23.0.1 with PID 10152 (D:\REPOS\libe\target\classes started by bitoche in D:\REPOS\libe)
[2025-03-07 14:46:51 [main] INFO  ru.miit.libe.LibeApplication] The following 1 profile is active: "dev"
[2025-03-07 14:46:51 [main] DEBUG o.s.boot.SpringApplication] Loading source class ru.miit.libe.LibeApplication
[2025-03-07 14:46:51 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ee86bcb
[2025-03-07 14:46:51 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:46:51 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:46:51 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:46:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2025-03-07 14:46:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 94 ms. Found 18 JPA repository interfaces.
[2025-03-07 14:46:52 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:46:52 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:46:52 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.
[2025-03-07 14:46:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat initialized with port 8080 (http)
[2025-03-07 14:46:52 [main] INFO  o.a.catalina.core.StandardService] Starting service [Tomcat]
[2025-03-07 14:46:52 [main] INFO  o.a.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.36]
[2025-03-07 14:46:52 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[2025-03-07 14:46:52 [main] DEBUG o.s.b.w.s.c.ServletWebServerApplicationContext] Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
[2025-03-07 14:46:52 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 1736 ms
[2025-03-07 14:46:52 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
[2025-03-07 14:46:52 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping servlets: dispatcherServlet urls=[/]
[2025-03-07 14:46:52 [main] DEBUG o.s.b.w.s.f.OrderedRequestContextFilter] Filter 'requestContextFilter' configured for use
[2025-03-07 14:46:52 [main] DEBUG o.s.b.w.s.f.OrderedCharacterEncodingFilter] Filter 'characterEncodingFilter' configured for use
[2025-03-07 14:46:52 [main] DEBUG o.s.b.w.s.f.OrderedFormContentFilter] Filter 'formContentFilter' configured for use
[2025-03-07 14:46:52 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:46:52 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:46:52 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:46:52 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:46:52 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:46:53 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[2025-03-07 14:46:53 [main] INFO  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@57f2e67
[2025-03-07 14:46:53 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[2025-03-07 14:46:53 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean] Failed to initialize JPA EntityManagerFactory: Unidirectional '@OneToMany' association 'ru.miit.libe.models.BookRelation.bookToBookRelations' is annotated '@OnDelete' and must explicitly specify a '@JoinColumn'
[2025-03-07 14:46:53 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unidirectional '@OneToMany' association 'ru.miit.libe.models.BookRelation.bookToBookRelations' is annotated '@OnDelete' and must explicitly specify a '@JoinColumn'
[2025-03-07 14:46:53 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown initiated...
[2025-03-07 14:46:53 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown completed.
[2025-03-07 14:46:53 [main] INFO  o.a.catalina.core.StandardService] Stopping service [Tomcat]
[2025-03-07 14:46:53 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[2025-03-07 14:46:53 [main] ERROR o.s.boot.SpringApplication] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unidirectional '@OneToMany' association 'ru.miit.libe.models.BookRelation.bookToBookRelations' is annotated '@OnDelete' and must explicitly specify a '@JoinColumn'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.hibernate.AnnotationException: Unidirectional '@OneToMany' association 'ru.miit.libe.models.BookRelation.bookToBookRelations' is annotated '@OnDelete' and must explicitly specify a '@JoinColumn'
	at org.hibernate.boot.model.internal.CollectionBinder.detectMappedByProblem(CollectionBinder.java:1293)
	at org.hibernate.boot.model.internal.CollectionBinder.bind(CollectionBinder.java:1190)
	at org.hibernate.boot.model.internal.CollectionBinder.bindCollection(CollectionBinder.java:368)
	at org.hibernate.boot.model.internal.PropertyBinder.bindProperty(PropertyBinder.java:897)
	at org.hibernate.boot.model.internal.PropertyBinder.buildProperty(PropertyBinder.java:811)
	at org.hibernate.boot.model.internal.PropertyBinder.processElementAnnotations(PropertyBinder.java:732)
	at org.hibernate.boot.model.internal.EntityBinder.processIdPropertiesIfNotAlready(EntityBinder.java:1088)
	at org.hibernate.boot.model.internal.EntityBinder.handleIdentifier(EntityBinder.java:419)
	at org.hibernate.boot.model.internal.EntityBinder.bindEntityClass(EntityBinder.java:251)
	at org.hibernate.boot.model.internal.AnnotationBinder.bindClass(AnnotationBinder.java:401)
	at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:257)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:281)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:324)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 15 common frames omitted
[2025-03-07 14:47:45 [main] INFO  ru.miit.libe.LibeApplication] Starting LibeApplication v0.0.1 using Java 23.0.1 with PID 13272 (D:\REPOS\libe\target\classes started by bitoche in D:\REPOS\libe)
[2025-03-07 14:47:45 [main] INFO  ru.miit.libe.LibeApplication] The following 1 profile is active: "dev"
[2025-03-07 14:47:45 [main] DEBUG o.s.boot.SpringApplication] Loading source class ru.miit.libe.LibeApplication
[2025-03-07 14:47:45 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ee86bcb
[2025-03-07 14:47:46 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:47:46 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:47:46 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:47:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2025-03-07 14:47:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 103 ms. Found 18 JPA repository interfaces.
[2025-03-07 14:47:47 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:47:47 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:47:47 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.
[2025-03-07 14:47:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat initialized with port 8080 (http)
[2025-03-07 14:47:47 [main] INFO  o.a.catalina.core.StandardService] Starting service [Tomcat]
[2025-03-07 14:47:47 [main] INFO  o.a.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.36]
[2025-03-07 14:47:47 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[2025-03-07 14:47:47 [main] DEBUG o.s.b.w.s.c.ServletWebServerApplicationContext] Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
[2025-03-07 14:47:47 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 1628 ms
[2025-03-07 14:47:47 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
[2025-03-07 14:47:47 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping servlets: dispatcherServlet urls=[/]
[2025-03-07 14:47:47 [main] DEBUG o.s.b.w.s.f.OrderedRequestContextFilter] Filter 'requestContextFilter' configured for use
[2025-03-07 14:47:47 [main] DEBUG o.s.b.w.s.f.OrderedCharacterEncodingFilter] Filter 'characterEncodingFilter' configured for use
[2025-03-07 14:47:47 [main] DEBUG o.s.b.w.s.f.OrderedFormContentFilter] Filter 'formContentFilter' configured for use
[2025-03-07 14:47:47 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:47:47 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:47:47 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:47:47 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:47:47 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:47:47 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[2025-03-07 14:47:47 [main] INFO  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1488a861
[2025-03-07 14:47:47 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[2025-03-07 14:47:48 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean] Failed to initialize JPA EntityManagerFactory: Unidirectional '@OneToMany' association 'ru.miit.libe.models.Bookshelf.books' is annotated '@OnDelete' and must explicitly specify a '@JoinColumn'
[2025-03-07 14:47:48 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unidirectional '@OneToMany' association 'ru.miit.libe.models.Bookshelf.books' is annotated '@OnDelete' and must explicitly specify a '@JoinColumn'
[2025-03-07 14:47:48 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown initiated...
[2025-03-07 14:47:48 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown completed.
[2025-03-07 14:47:48 [main] INFO  o.a.catalina.core.StandardService] Stopping service [Tomcat]
[2025-03-07 14:47:48 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[2025-03-07 14:47:48 [main] ERROR o.s.boot.SpringApplication] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unidirectional '@OneToMany' association 'ru.miit.libe.models.Bookshelf.books' is annotated '@OnDelete' and must explicitly specify a '@JoinColumn'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.hibernate.AnnotationException: Unidirectional '@OneToMany' association 'ru.miit.libe.models.Bookshelf.books' is annotated '@OnDelete' and must explicitly specify a '@JoinColumn'
	at org.hibernate.boot.model.internal.CollectionBinder.detectMappedByProblem(CollectionBinder.java:1293)
	at org.hibernate.boot.model.internal.CollectionBinder.bind(CollectionBinder.java:1190)
	at org.hibernate.boot.model.internal.CollectionBinder.bindCollection(CollectionBinder.java:368)
	at org.hibernate.boot.model.internal.PropertyBinder.bindProperty(PropertyBinder.java:897)
	at org.hibernate.boot.model.internal.PropertyBinder.buildProperty(PropertyBinder.java:811)
	at org.hibernate.boot.model.internal.PropertyBinder.processElementAnnotations(PropertyBinder.java:732)
	at org.hibernate.boot.model.internal.EntityBinder.processIdPropertiesIfNotAlready(EntityBinder.java:1088)
	at org.hibernate.boot.model.internal.EntityBinder.handleIdentifier(EntityBinder.java:419)
	at org.hibernate.boot.model.internal.EntityBinder.bindEntityClass(EntityBinder.java:251)
	at org.hibernate.boot.model.internal.AnnotationBinder.bindClass(AnnotationBinder.java:401)
	at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:257)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:281)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:324)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 15 common frames omitted
[2025-03-07 14:48:43 [main] INFO  ru.miit.libe.LibeApplication] Starting LibeApplication v0.0.1 using Java 23.0.1 with PID 10628 (D:\REPOS\libe\target\classes started by bitoche in D:\REPOS\libe)
[2025-03-07 14:48:43 [main] INFO  ru.miit.libe.LibeApplication] The following 1 profile is active: "dev"
[2025-03-07 14:48:43 [main] DEBUG o.s.boot.SpringApplication] Loading source class ru.miit.libe.LibeApplication
[2025-03-07 14:48:43 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ee86bcb
[2025-03-07 14:48:43 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:48:43 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:48:43 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:48:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2025-03-07 14:48:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 83 ms. Found 18 JPA repository interfaces.
[2025-03-07 14:48:44 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:48:44 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:48:44 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.
[2025-03-07 14:48:44 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat initialized with port 8080 (http)
[2025-03-07 14:48:44 [main] INFO  o.a.catalina.core.StandardService] Starting service [Tomcat]
[2025-03-07 14:48:44 [main] INFO  o.a.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.36]
[2025-03-07 14:48:44 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[2025-03-07 14:48:44 [main] DEBUG o.s.b.w.s.c.ServletWebServerApplicationContext] Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
[2025-03-07 14:48:44 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 1608 ms
[2025-03-07 14:48:44 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
[2025-03-07 14:48:44 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping servlets: dispatcherServlet urls=[/]
[2025-03-07 14:48:44 [main] DEBUG o.s.b.w.s.f.OrderedRequestContextFilter] Filter 'requestContextFilter' configured for use
[2025-03-07 14:48:44 [main] DEBUG o.s.b.w.s.f.OrderedCharacterEncodingFilter] Filter 'characterEncodingFilter' configured for use
[2025-03-07 14:48:44 [main] DEBUG o.s.b.w.s.f.OrderedFormContentFilter] Filter 'formContentFilter' configured for use
[2025-03-07 14:48:44 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:48:44 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:48:44 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:48:44 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:48:44 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:48:45 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[2025-03-07 14:48:45 [main] INFO  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@67dc6b48
[2025-03-07 14:48:45 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] set client_min_messages = WARNING
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKg0kyf1gbyr6lwu0iumorpgqv6
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKqybncm6c5iudwye9hdht6rxbq
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FK2adqfbphgg2arjwqwivpc75ds
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FKsnmbsrop5evsoiy5fgnnuisre
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKquddbm52fmsf9mpynxiu4f03i
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKdolwn15jycv0ksyhydub2xplu
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKthii9cpr90jk2cf30qqhrpodi
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKkihxjrhtgy1t03ttdivy1misg
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FKm10txued3b7lehw83x2ol8q58
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FK8uwo17by58tqxegx09f90bdbm
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKm15v5yq7ckv98mhxbhlkpe298
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKai44sfnl5ywap4186w6h5tyac
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKa63sbbvsikyityfy174i8lsvg
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKe29wgv68l62d9scco43s65ch5
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FKll7qdwgjnmw5600yq1vx4i0rn
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FK6e18k1gatjy6gs7q1icakri98
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK5wyn87d9nw0j8x98toosovdua
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK3kpfvd84pxte4edaruqbchuxv
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKbmdppg9ftaaoq7adilxub8hvo
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKowulfmlt929t43hmy8o7bxq0g
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKkxg9brblfr1gedl1lteal7c3t
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKgmnpso59cl1ofp686u9s0x0mj
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKodwoyo8500n6jwp8dcxyfi7fn
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings drop constraint if exists FK71rcgr4fu0kpcjvfn2xdwldnu
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings drop constraint if exists FKp0k94jmkyti0mjs5c5ogj053w
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf drop constraint if exists FKa0hcekyw3gvdpq06qdul0yl9y
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FKsencsq2y9e9k4mq0vvb431hyq
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FK2gwli8nv8yhkygfk4k9vkoc5r
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FK6bf3iv4jb05pvgko20md1vnhx
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKcrt3r07eir3tnxmtorroljt2b
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKo6699pip10k6hsldtjbn846uo
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKq2khfncin6wq582w4gykd7bqo
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKjcoof78lp3shpu2su2qmsenl9
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists entry_code drop constraint if exists FKornnaqf5kmqy4qgg6iw2x43rc
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists notification drop constraint if exists FKnosulxdrf81d3yyo9w2vq5shi
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists ordering_books drop constraint if exists FKi26d365qgpl45rygl9fufr7lw
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKgj4elkqd5pg78t1urewuhnfks
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKdy7kki3evupfeagamxrtq1tgh
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] alter table if exists "user" drop constraint if exists FK66pempyucigmjpecjl2ay1wxh
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists "user_role_users_with_this_role" cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists book cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists book_author cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists book_author_authored_books cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists book_authors cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre_books_with_genre cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists book_genres cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists book_language cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists book_language_books_with_this_language cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists book_publishing_houses cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation_book_to_book_relations cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists book_status cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists book_status_books_with_status cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists book_to_book_relation cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists books_arriving cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists books_arriving_orderings cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf_books cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists borrow cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists borrow_status cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet_shelves cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists entry_code cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists notification cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists ordering_books cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house_published_books cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists "user" cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] drop table if exists user_role cascade
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table "user_role_users_with_this_role" (user_role_role_id integer not null, "users_with_this_role_user_id" bigint not null unique)
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table book (book_status_book_status_id integer, language_language_id integer, pages_number integer not null, book_id bigint generated by default as identity, release_date timestamp(6), book_name varchar(255), description varchar(255), identifier varchar(255) unique, primary key (book_id))
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table book_author (author_id bigint generated by default as identity, birth_date timestamp(6), first_name varchar(255), identifier varchar(255) unique, second_name varchar(255), third_name varchar(255), primary key (author_id))
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table book_author_authored_books (authored_books_book_id bigint not null, book_author_author_id bigint not null)
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table book_authors (authors_author_id bigint not null, book_book_id bigint not null)
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table book_genre (genre_id integer generated by default as identity, genre_name varchar(255), primary key (genre_id))
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table book_genre_books_with_genre (book_genre_genre_id integer not null, books_with_genre_book_id bigint not null)
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table book_genres (genres_genre_id integer not null, book_book_id bigint not null)
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table book_language (language_id integer generated by default as identity, language_name varchar(255), primary key (language_id))
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table book_language_books_with_this_language (book_language_language_id integer not null, books_with_this_language_book_id bigint not null)
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table book_publishing_houses (book_book_id bigint not null, publishing_houses_publishing_house_id bigint not null)
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table book_relation (relation_id integer generated by default as identity, relation_name varchar(255), primary key (relation_id))
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table book_relation_book_to_book_relations (book_relation_relation_id integer not null, book_to_book_relations_relation_id integer not null unique)
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table book_status (book_status_id integer generated by default as identity, status_name varchar(255), primary key (book_status_id))
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table book_status_books_with_status (book_status_book_status_id integer not null, books_with_status_book_id bigint not null)
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table book_to_book_relation (relation_id integer generated by default as identity, relation_relation_id integer, main_book_book_id bigint, related_book_book_id bigint, relation_description varchar(255), primary key (relation_id))
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table books_arriving (arriving_dttm timestamp(6), arriving_id bigint generated by default as identity, arrived_books_details varchar(255) array, primary key (arriving_id))
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table books_arriving_orderings (books_arriving_arriving_id bigint not null, orderings_ordering_id bigint not null)
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table bookshelf (cabinet_cabinet_id integer, shelf_id integer generated by default as identity, shelf_name varchar(255), primary key (shelf_id))
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table bookshelf_books (bookshelf_shelf_id integer not null, books_book_id bigint not null unique)
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table borrow (borrow_status_borrow_status_id integer, redemption_price_if_loss integer, borrow_dttm timestamp(6), borrow_id bigint generated by default as identity, borrowed_book_book_id bigint, "borrowed_user_user_id" bigint, expected_return_date timestamp(6), primary key (borrow_id))
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table borrow_status (borrow_status_id integer generated by default as identity, status_name varchar(255), primary key (borrow_status_id))
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table cabinet (cabinet_id integer generated by default as identity, cabinet_number integer not null, cabinet_name varchar(255), primary key (cabinet_id))
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table cabinet_shelves (cabinet_cabinet_id integer not null, shelves_shelf_id integer not null unique)
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table entry_code (code_id bigint generated by default as identity, expire_date_time timestamp(6), "user_user_id" bigint unique, code varchar(255), primary key (code_id))
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table notification (notification_dttm timestamp(6), notification_id bigint generated by default as identity, "user_user_id" bigint, text varchar(255), title varchar(255), primary key (notification_id))
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table ordering_books (is_active boolean not null, expected_arrival_date timestamp(6), "ordered_administrator_user_id" bigint, ordering_dttm timestamp(6), ordering_id bigint generated by default as identity, comment varchar(255), ordered_books_details varchar(255) array, primary key (ordering_id))
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table publishing_house (publishing_house_id bigint generated by default as identity, publishing_house_name varchar(255), primary key (publishing_house_id))
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table publishing_house_published_books (published_books_book_id bigint not null, publishing_house_publishing_house_id bigint not null)
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table "user" (role_role_id integer, birth_date timestamp(6), user_id bigint generated by default as identity, email varchar(255) unique, first_name varchar(255), password varchar(255), second_name varchar(255), third_name varchar(255), primary key (user_id))
[2025-03-07 14:48:46 [main] DEBUG org.hibernate.SQL] create table user_role (role_id integer generated by default as identity, role_name varchar(255), primary key (role_id))
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" add constraint FKg0kyf1gbyr6lwu0iumorpgqv6 foreign key ("users_with_this_role_user_id") references "user"
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" add constraint FKqybncm6c5iudwye9hdht6rxbq foreign key (user_role_role_id) references user_role
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book add constraint FK2adqfbphgg2arjwqwivpc75ds foreign key (book_status_book_status_id) references book_status on delete set null
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book add constraint FKsnmbsrop5evsoiy5fgnnuisre foreign key (language_language_id) references book_language on delete set null
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books add constraint FKquddbm52fmsf9mpynxiu4f03i foreign key (authored_books_book_id) references book
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books add constraint FKdolwn15jycv0ksyhydub2xplu foreign key (book_author_author_id) references book_author on delete set null
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors add constraint FKthii9cpr90jk2cf30qqhrpodi foreign key (authors_author_id) references book_author
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors add constraint FKkihxjrhtgy1t03ttdivy1misg foreign key (book_book_id) references book on delete set null
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre add constraint FKm10txued3b7lehw83x2ol8q58 foreign key (books_with_genre_book_id) references book
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre add constraint FK8uwo17by58tqxegx09f90bdbm foreign key (book_genre_genre_id) references book_genre on delete set null
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres add constraint FKm15v5yq7ckv98mhxbhlkpe298 foreign key (genres_genre_id) references book_genre
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres add constraint FKai44sfnl5ywap4186w6h5tyac foreign key (book_book_id) references book on delete set null
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language add constraint FKa63sbbvsikyityfy174i8lsvg foreign key (books_with_this_language_book_id) references book
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language add constraint FKe29wgv68l62d9scco43s65ch5 foreign key (book_language_language_id) references book_language on delete set null
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses add constraint FKll7qdwgjnmw5600yq1vx4i0rn foreign key (publishing_houses_publishing_house_id) references publishing_house
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses add constraint FK6e18k1gatjy6gs7q1icakri98 foreign key (book_book_id) references book on delete set null
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations add constraint FK5wyn87d9nw0j8x98toosovdua foreign key (book_to_book_relations_relation_id) references book_to_book_relation
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations add constraint FK3kpfvd84pxte4edaruqbchuxv foreign key (book_relation_relation_id) references book_relation
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status add constraint FKbmdppg9ftaaoq7adilxub8hvo foreign key (books_with_status_book_id) references book
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status add constraint FKowulfmlt929t43hmy8o7bxq0g foreign key (book_status_book_status_id) references book_status on delete set null
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKkxg9brblfr1gedl1lteal7c3t foreign key (main_book_book_id) references book on delete set null
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKgmnpso59cl1ofp686u9s0x0mj foreign key (related_book_book_id) references book on delete set null
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKodwoyo8500n6jwp8dcxyfi7fn foreign key (relation_relation_id) references book_relation on delete set null
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings add constraint FK71rcgr4fu0kpcjvfn2xdwldnu foreign key (orderings_ordering_id) references ordering_books
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings add constraint FKp0k94jmkyti0mjs5c5ogj053w foreign key (books_arriving_arriving_id) references books_arriving on delete set null
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf add constraint FKa0hcekyw3gvdpq06qdul0yl9y foreign key (cabinet_cabinet_id) references cabinet
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books add constraint FKsencsq2y9e9k4mq0vvb431hyq foreign key (books_book_id) references book
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books add constraint FK2gwli8nv8yhkygfk4k9vkoc5r foreign key (bookshelf_shelf_id) references bookshelf
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FK6bf3iv4jb05pvgko20md1vnhx foreign key (borrow_status_borrow_status_id) references borrow_status on delete set null
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FKcrt3r07eir3tnxmtorroljt2b foreign key (borrowed_book_book_id) references book on delete set null
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FKo6699pip10k6hsldtjbn846uo foreign key ("borrowed_user_user_id") references "user" on delete set null
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves add constraint FKq2khfncin6wq582w4gykd7bqo foreign key (shelves_shelf_id) references bookshelf
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves add constraint FKjcoof78lp3shpu2su2qmsenl9 foreign key (cabinet_cabinet_id) references cabinet
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists entry_code add constraint FKornnaqf5kmqy4qgg6iw2x43rc foreign key ("user_user_id") references "user" on delete cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists notification add constraint FKnosulxdrf81d3yyo9w2vq5shi foreign key ("user_user_id") references "user"
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists ordering_books add constraint FKi26d365qgpl45rygl9fufr7lw foreign key ("ordered_administrator_user_id") references "user" on delete set null
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books add constraint FKgj4elkqd5pg78t1urewuhnfks foreign key (published_books_book_id) references book
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books add constraint FKdy7kki3evupfeagamxrtq1tgh foreign key (publishing_house_publishing_house_id) references publishing_house on delete set null
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists "user" add constraint FK66pempyucigmjpecjl2ay1wxh foreign key (role_role_id) references user_role on delete set null
[2025-03-07 14:48:47 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminController' defined in file [D:\REPOS\libe\target\classes\ru\miit\libe\controllers\AdminController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'mainBookService' defined in file [D:\REPOS\libe\target\classes\ru\miit\libe\services\MainBookService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'IBookRepository' defined in ru.miit.libe.repository.IBookRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List ru.miit.libe.repository.IBookRepository.findAllByAuthors_IdentifierIn(java.lang.String); Reason: Failed to create query for method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findAllByAuthors_IdentifierIn(java.lang.String); Operator IN on authors.identifier requires a Collection argument, found class java.lang.String in method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findAllByAuthors_IdentifierIn(java.lang.String)
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] set client_min_messages = WARNING
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKg0kyf1gbyr6lwu0iumorpgqv6
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKqybncm6c5iudwye9hdht6rxbq
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FK2adqfbphgg2arjwqwivpc75ds
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FKsnmbsrop5evsoiy5fgnnuisre
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKquddbm52fmsf9mpynxiu4f03i
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKdolwn15jycv0ksyhydub2xplu
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKthii9cpr90jk2cf30qqhrpodi
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKkihxjrhtgy1t03ttdivy1misg
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FKm10txued3b7lehw83x2ol8q58
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FK8uwo17by58tqxegx09f90bdbm
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKm15v5yq7ckv98mhxbhlkpe298
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKai44sfnl5ywap4186w6h5tyac
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKa63sbbvsikyityfy174i8lsvg
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKe29wgv68l62d9scco43s65ch5
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FKll7qdwgjnmw5600yq1vx4i0rn
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FK6e18k1gatjy6gs7q1icakri98
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK5wyn87d9nw0j8x98toosovdua
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK3kpfvd84pxte4edaruqbchuxv
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKbmdppg9ftaaoq7adilxub8hvo
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKowulfmlt929t43hmy8o7bxq0g
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKkxg9brblfr1gedl1lteal7c3t
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKgmnpso59cl1ofp686u9s0x0mj
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKodwoyo8500n6jwp8dcxyfi7fn
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings drop constraint if exists FK71rcgr4fu0kpcjvfn2xdwldnu
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings drop constraint if exists FKp0k94jmkyti0mjs5c5ogj053w
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf drop constraint if exists FKa0hcekyw3gvdpq06qdul0yl9y
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FKsencsq2y9e9k4mq0vvb431hyq
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FK2gwli8nv8yhkygfk4k9vkoc5r
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FK6bf3iv4jb05pvgko20md1vnhx
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKcrt3r07eir3tnxmtorroljt2b
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKo6699pip10k6hsldtjbn846uo
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKq2khfncin6wq582w4gykd7bqo
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKjcoof78lp3shpu2su2qmsenl9
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists entry_code drop constraint if exists FKornnaqf5kmqy4qgg6iw2x43rc
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists notification drop constraint if exists FKnosulxdrf81d3yyo9w2vq5shi
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists ordering_books drop constraint if exists FKi26d365qgpl45rygl9fufr7lw
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKgj4elkqd5pg78t1urewuhnfks
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKdy7kki3evupfeagamxrtq1tgh
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] alter table if exists "user" drop constraint if exists FK66pempyucigmjpecjl2ay1wxh
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists "user_role_users_with_this_role" cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists book cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists book_author cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists book_author_authored_books cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists book_authors cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre_books_with_genre cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists book_genres cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists book_language cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists book_language_books_with_this_language cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists book_publishing_houses cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation_book_to_book_relations cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists book_status cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists book_status_books_with_status cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists book_to_book_relation cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists books_arriving cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists books_arriving_orderings cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf_books cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists borrow cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists borrow_status cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet_shelves cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists entry_code cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists notification cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists ordering_books cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house_published_books cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists "user" cascade
[2025-03-07 14:48:47 [main] DEBUG org.hibernate.SQL] drop table if exists user_role cascade
[2025-03-07 14:48:47 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown initiated...
[2025-03-07 14:48:47 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown completed.
[2025-03-07 14:48:47 [main] INFO  o.a.catalina.core.StandardService] Stopping service [Tomcat]
[2025-03-07 14:48:47 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[2025-03-07 14:48:47 [main] ERROR o.s.boot.SpringApplication] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminController' defined in file [D:\REPOS\libe\target\classes\ru\miit\libe\controllers\AdminController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'mainBookService' defined in file [D:\REPOS\libe\target\classes\ru\miit\libe\services\MainBookService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'IBookRepository' defined in ru.miit.libe.repository.IBookRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List ru.miit.libe.repository.IBookRepository.findAllByAuthors_IdentifierIn(java.lang.String); Reason: Failed to create query for method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findAllByAuthors_IdentifierIn(java.lang.String); Operator IN on authors.identifier requires a Collection argument, found class java.lang.String in method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findAllByAuthors_IdentifierIn(java.lang.String)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mainBookService' defined in file [D:\REPOS\libe\target\classes\ru\miit\libe\services\MainBookService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'IBookRepository' defined in ru.miit.libe.repository.IBookRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List ru.miit.libe.repository.IBookRepository.findAllByAuthors_IdentifierIn(java.lang.String); Reason: Failed to create query for method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findAllByAuthors_IdentifierIn(java.lang.String); Operator IN on authors.identifier requires a Collection argument, found class java.lang.String in method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findAllByAuthors_IdentifierIn(java.lang.String)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1606)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'IBookRepository' defined in ru.miit.libe.repository.IBookRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List ru.miit.libe.repository.IBookRepository.findAllByAuthors_IdentifierIn(java.lang.String); Reason: Failed to create query for method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findAllByAuthors_IdentifierIn(java.lang.String); Operator IN on authors.identifier requires a Collection argument, found class java.lang.String in method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findAllByAuthors_IdentifierIn(java.lang.String)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1664)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List ru.miit.libe.repository.IBookRepository.findAllByAuthors_IdentifierIn(java.lang.String); Reason: Failed to create query for method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findAllByAuthors_IdentifierIn(java.lang.String); Operator IN on authors.identifier requires a Collection argument, found class java.lang.String in method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findAllByAuthors_IdentifierIn(java.lang.String)
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:440)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 45 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findAllByAuthors_IdentifierIn(java.lang.String); Operator IN on authors.identifier requires a Collection argument, found class java.lang.String in method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findAllByAuthors_IdentifierIn(java.lang.String)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:262)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 57 common frames omitted
Caused by: java.lang.IllegalStateException: Operator IN on authors.identifier requires a Collection argument, found class java.lang.String in method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findAllByAuthors_IdentifierIn(java.lang.String)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.throwExceptionOnArgumentMismatch(PartTreeJpaQuery.java:172)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.validate(PartTreeJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:102)
	... 61 common frames omitted
[2025-03-07 14:51:29 [main] INFO  ru.miit.libe.LibeApplication] Starting LibeApplication v0.0.1 using Java 23.0.1 with PID 13280 (D:\REPOS\libe\target\classes started by bitoche in D:\REPOS\libe)
[2025-03-07 14:51:29 [main] INFO  ru.miit.libe.LibeApplication] The following 1 profile is active: "dev"
[2025-03-07 14:51:29 [main] DEBUG o.s.boot.SpringApplication] Loading source class ru.miit.libe.LibeApplication
[2025-03-07 14:51:29 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ee86bcb
[2025-03-07 14:51:30 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:51:30 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:51:30 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:51:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2025-03-07 14:51:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 85 ms. Found 18 JPA repository interfaces.
[2025-03-07 14:51:31 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:51:31 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:51:31 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.
[2025-03-07 14:51:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat initialized with port 8080 (http)
[2025-03-07 14:51:31 [main] INFO  o.a.catalina.core.StandardService] Starting service [Tomcat]
[2025-03-07 14:51:31 [main] INFO  o.a.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.36]
[2025-03-07 14:51:31 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[2025-03-07 14:51:31 [main] DEBUG o.s.b.w.s.c.ServletWebServerApplicationContext] Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
[2025-03-07 14:51:31 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 1793 ms
[2025-03-07 14:51:31 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
[2025-03-07 14:51:31 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping servlets: dispatcherServlet urls=[/]
[2025-03-07 14:51:31 [main] DEBUG o.s.b.w.s.f.OrderedRequestContextFilter] Filter 'requestContextFilter' configured for use
[2025-03-07 14:51:31 [main] DEBUG o.s.b.w.s.f.OrderedCharacterEncodingFilter] Filter 'characterEncodingFilter' configured for use
[2025-03-07 14:51:31 [main] DEBUG o.s.b.w.s.f.OrderedFormContentFilter] Filter 'formContentFilter' configured for use
[2025-03-07 14:51:31 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:51:31 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:51:31 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:51:31 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:51:31 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:51:32 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[2025-03-07 14:51:32 [main] INFO  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@605eb072
[2025-03-07 14:51:32 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] set client_min_messages = WARNING
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKg0kyf1gbyr6lwu0iumorpgqv6
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKqybncm6c5iudwye9hdht6rxbq
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FK2adqfbphgg2arjwqwivpc75ds
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FKsnmbsrop5evsoiy5fgnnuisre
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKquddbm52fmsf9mpynxiu4f03i
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKdolwn15jycv0ksyhydub2xplu
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKthii9cpr90jk2cf30qqhrpodi
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKkihxjrhtgy1t03ttdivy1misg
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FKm10txued3b7lehw83x2ol8q58
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FK8uwo17by58tqxegx09f90bdbm
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKm15v5yq7ckv98mhxbhlkpe298
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKai44sfnl5ywap4186w6h5tyac
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKa63sbbvsikyityfy174i8lsvg
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKe29wgv68l62d9scco43s65ch5
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FKll7qdwgjnmw5600yq1vx4i0rn
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FK6e18k1gatjy6gs7q1icakri98
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK5wyn87d9nw0j8x98toosovdua
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK3kpfvd84pxte4edaruqbchuxv
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKbmdppg9ftaaoq7adilxub8hvo
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKowulfmlt929t43hmy8o7bxq0g
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKkxg9brblfr1gedl1lteal7c3t
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKgmnpso59cl1ofp686u9s0x0mj
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKodwoyo8500n6jwp8dcxyfi7fn
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings drop constraint if exists FK71rcgr4fu0kpcjvfn2xdwldnu
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings drop constraint if exists FKp0k94jmkyti0mjs5c5ogj053w
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf drop constraint if exists FKa0hcekyw3gvdpq06qdul0yl9y
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FKsencsq2y9e9k4mq0vvb431hyq
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FK2gwli8nv8yhkygfk4k9vkoc5r
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FK6bf3iv4jb05pvgko20md1vnhx
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKcrt3r07eir3tnxmtorroljt2b
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKo6699pip10k6hsldtjbn846uo
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKq2khfncin6wq582w4gykd7bqo
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKjcoof78lp3shpu2su2qmsenl9
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists entry_code drop constraint if exists FKornnaqf5kmqy4qgg6iw2x43rc
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists notification drop constraint if exists FKnosulxdrf81d3yyo9w2vq5shi
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists ordering_books drop constraint if exists FKi26d365qgpl45rygl9fufr7lw
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKgj4elkqd5pg78t1urewuhnfks
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKdy7kki3evupfeagamxrtq1tgh
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists "user" drop constraint if exists FK66pempyucigmjpecjl2ay1wxh
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists "user_role_users_with_this_role" cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists book cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists book_author cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists book_author_authored_books cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists book_authors cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre_books_with_genre cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists book_genres cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists book_language cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists book_language_books_with_this_language cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists book_publishing_houses cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation_book_to_book_relations cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists book_status cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists book_status_books_with_status cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists book_to_book_relation cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists books_arriving cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists books_arriving_orderings cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf_books cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists borrow cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists borrow_status cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet_shelves cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists entry_code cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists notification cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists ordering_books cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house_published_books cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists "user" cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] drop table if exists user_role cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table "user_role_users_with_this_role" (user_role_role_id integer not null, "users_with_this_role_user_id" bigint not null unique)
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table book (book_status_book_status_id integer, language_language_id integer, pages_number integer not null, book_id bigint generated by default as identity, release_date timestamp(6), book_name varchar(255), description varchar(255), identifier varchar(255) unique, primary key (book_id))
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table book_author (author_id bigint generated by default as identity, birth_date timestamp(6), first_name varchar(255), identifier varchar(255) unique, second_name varchar(255), third_name varchar(255), primary key (author_id))
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table book_author_authored_books (authored_books_book_id bigint not null, book_author_author_id bigint not null)
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table book_authors (authors_author_id bigint not null, book_book_id bigint not null)
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table book_genre (genre_id integer generated by default as identity, genre_name varchar(255), primary key (genre_id))
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table book_genre_books_with_genre (book_genre_genre_id integer not null, books_with_genre_book_id bigint not null)
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table book_genres (genres_genre_id integer not null, book_book_id bigint not null)
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table book_language (language_id integer generated by default as identity, language_name varchar(255), primary key (language_id))
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table book_language_books_with_this_language (book_language_language_id integer not null, books_with_this_language_book_id bigint not null)
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table book_publishing_houses (book_book_id bigint not null, publishing_houses_publishing_house_id bigint not null)
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table book_relation (relation_id integer generated by default as identity, relation_name varchar(255), primary key (relation_id))
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table book_relation_book_to_book_relations (book_relation_relation_id integer not null, book_to_book_relations_relation_id integer not null unique)
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table book_status (book_status_id integer generated by default as identity, status_name varchar(255), primary key (book_status_id))
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table book_status_books_with_status (book_status_book_status_id integer not null, books_with_status_book_id bigint not null)
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table book_to_book_relation (relation_id integer generated by default as identity, relation_relation_id integer, main_book_book_id bigint, related_book_book_id bigint, relation_description varchar(255), primary key (relation_id))
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table books_arriving (arriving_dttm timestamp(6), arriving_id bigint generated by default as identity, arrived_books_details varchar(255) array, primary key (arriving_id))
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table books_arriving_orderings (books_arriving_arriving_id bigint not null, orderings_ordering_id bigint not null)
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table bookshelf (cabinet_cabinet_id integer, shelf_id integer generated by default as identity, shelf_name varchar(255), primary key (shelf_id))
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table bookshelf_books (bookshelf_shelf_id integer not null, books_book_id bigint not null unique)
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table borrow (borrow_status_borrow_status_id integer, redemption_price_if_loss integer, borrow_dttm timestamp(6), borrow_id bigint generated by default as identity, borrowed_book_book_id bigint, "borrowed_user_user_id" bigint, expected_return_date timestamp(6), primary key (borrow_id))
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table borrow_status (borrow_status_id integer generated by default as identity, status_name varchar(255), primary key (borrow_status_id))
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table cabinet (cabinet_id integer generated by default as identity, cabinet_number integer not null, cabinet_name varchar(255), primary key (cabinet_id))
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table cabinet_shelves (cabinet_cabinet_id integer not null, shelves_shelf_id integer not null unique)
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table entry_code (code_id bigint generated by default as identity, expire_date_time timestamp(6), "user_user_id" bigint unique, code varchar(255), primary key (code_id))
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table notification (notification_dttm timestamp(6), notification_id bigint generated by default as identity, "user_user_id" bigint, text varchar(255), title varchar(255), primary key (notification_id))
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table ordering_books (is_active boolean not null, expected_arrival_date timestamp(6), "ordered_administrator_user_id" bigint, ordering_dttm timestamp(6), ordering_id bigint generated by default as identity, comment varchar(255), ordered_books_details varchar(255) array, primary key (ordering_id))
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table publishing_house (publishing_house_id bigint generated by default as identity, publishing_house_name varchar(255), primary key (publishing_house_id))
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table publishing_house_published_books (published_books_book_id bigint not null, publishing_house_publishing_house_id bigint not null)
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table "user" (role_role_id integer, birth_date timestamp(6), user_id bigint generated by default as identity, email varchar(255) unique, first_name varchar(255), password varchar(255), second_name varchar(255), third_name varchar(255), primary key (user_id))
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] create table user_role (role_id integer generated by default as identity, role_name varchar(255), primary key (role_id))
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" add constraint FKg0kyf1gbyr6lwu0iumorpgqv6 foreign key ("users_with_this_role_user_id") references "user"
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" add constraint FKqybncm6c5iudwye9hdht6rxbq foreign key (user_role_role_id) references user_role
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book add constraint FK2adqfbphgg2arjwqwivpc75ds foreign key (book_status_book_status_id) references book_status on delete set null
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book add constraint FKsnmbsrop5evsoiy5fgnnuisre foreign key (language_language_id) references book_language on delete set null
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books add constraint FKquddbm52fmsf9mpynxiu4f03i foreign key (authored_books_book_id) references book
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books add constraint FKdolwn15jycv0ksyhydub2xplu foreign key (book_author_author_id) references book_author on delete set null
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors add constraint FKthii9cpr90jk2cf30qqhrpodi foreign key (authors_author_id) references book_author
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors add constraint FKkihxjrhtgy1t03ttdivy1misg foreign key (book_book_id) references book on delete set null
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre add constraint FKm10txued3b7lehw83x2ol8q58 foreign key (books_with_genre_book_id) references book
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre add constraint FK8uwo17by58tqxegx09f90bdbm foreign key (book_genre_genre_id) references book_genre on delete set null
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres add constraint FKm15v5yq7ckv98mhxbhlkpe298 foreign key (genres_genre_id) references book_genre
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres add constraint FKai44sfnl5ywap4186w6h5tyac foreign key (book_book_id) references book on delete set null
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language add constraint FKa63sbbvsikyityfy174i8lsvg foreign key (books_with_this_language_book_id) references book
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language add constraint FKe29wgv68l62d9scco43s65ch5 foreign key (book_language_language_id) references book_language on delete set null
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses add constraint FKll7qdwgjnmw5600yq1vx4i0rn foreign key (publishing_houses_publishing_house_id) references publishing_house
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses add constraint FK6e18k1gatjy6gs7q1icakri98 foreign key (book_book_id) references book on delete set null
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations add constraint FK5wyn87d9nw0j8x98toosovdua foreign key (book_to_book_relations_relation_id) references book_to_book_relation
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations add constraint FK3kpfvd84pxte4edaruqbchuxv foreign key (book_relation_relation_id) references book_relation
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status add constraint FKbmdppg9ftaaoq7adilxub8hvo foreign key (books_with_status_book_id) references book
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status add constraint FKowulfmlt929t43hmy8o7bxq0g foreign key (book_status_book_status_id) references book_status on delete set null
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKkxg9brblfr1gedl1lteal7c3t foreign key (main_book_book_id) references book on delete set null
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKgmnpso59cl1ofp686u9s0x0mj foreign key (related_book_book_id) references book on delete set null
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKodwoyo8500n6jwp8dcxyfi7fn foreign key (relation_relation_id) references book_relation on delete set null
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings add constraint FK71rcgr4fu0kpcjvfn2xdwldnu foreign key (orderings_ordering_id) references ordering_books
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings add constraint FKp0k94jmkyti0mjs5c5ogj053w foreign key (books_arriving_arriving_id) references books_arriving on delete set null
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf add constraint FKa0hcekyw3gvdpq06qdul0yl9y foreign key (cabinet_cabinet_id) references cabinet
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books add constraint FKsencsq2y9e9k4mq0vvb431hyq foreign key (books_book_id) references book
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books add constraint FK2gwli8nv8yhkygfk4k9vkoc5r foreign key (bookshelf_shelf_id) references bookshelf
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FK6bf3iv4jb05pvgko20md1vnhx foreign key (borrow_status_borrow_status_id) references borrow_status on delete set null
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FKcrt3r07eir3tnxmtorroljt2b foreign key (borrowed_book_book_id) references book on delete set null
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FKo6699pip10k6hsldtjbn846uo foreign key ("borrowed_user_user_id") references "user" on delete set null
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves add constraint FKq2khfncin6wq582w4gykd7bqo foreign key (shelves_shelf_id) references bookshelf
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves add constraint FKjcoof78lp3shpu2su2qmsenl9 foreign key (cabinet_cabinet_id) references cabinet
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists entry_code add constraint FKornnaqf5kmqy4qgg6iw2x43rc foreign key ("user_user_id") references "user" on delete cascade
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists notification add constraint FKnosulxdrf81d3yyo9w2vq5shi foreign key ("user_user_id") references "user"
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists ordering_books add constraint FKi26d365qgpl45rygl9fufr7lw foreign key ("ordered_administrator_user_id") references "user" on delete set null
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books add constraint FKgj4elkqd5pg78t1urewuhnfks foreign key (published_books_book_id) references book
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books add constraint FKdy7kki3evupfeagamxrtq1tgh foreign key (publishing_house_publishing_house_id) references publishing_house on delete set null
[2025-03-07 14:51:33 [main] DEBUG org.hibernate.SQL] alter table if exists "user" add constraint FK66pempyucigmjpecjl2ay1wxh foreign key (role_role_id) references user_role on delete set null
[2025-03-07 14:51:34 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminController' defined in file [D:\REPOS\libe\target\classes\ru\miit\libe\controllers\AdminController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'mainBookService' defined in file [D:\REPOS\libe\target\classes\ru\miit\libe\services\MainBookService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'IBookRepository' defined in ru.miit.libe.repository.IBookRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(java.lang.Object); Reason: Failed to create query for method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(java.lang.Object); No property 'bookshelf' found for type 'Book'
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] set client_min_messages = WARNING
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKg0kyf1gbyr6lwu0iumorpgqv6
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKqybncm6c5iudwye9hdht6rxbq
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FK2adqfbphgg2arjwqwivpc75ds
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FKsnmbsrop5evsoiy5fgnnuisre
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKquddbm52fmsf9mpynxiu4f03i
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKdolwn15jycv0ksyhydub2xplu
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKthii9cpr90jk2cf30qqhrpodi
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKkihxjrhtgy1t03ttdivy1misg
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FKm10txued3b7lehw83x2ol8q58
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FK8uwo17by58tqxegx09f90bdbm
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKm15v5yq7ckv98mhxbhlkpe298
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKai44sfnl5ywap4186w6h5tyac
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKa63sbbvsikyityfy174i8lsvg
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKe29wgv68l62d9scco43s65ch5
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FKll7qdwgjnmw5600yq1vx4i0rn
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FK6e18k1gatjy6gs7q1icakri98
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK5wyn87d9nw0j8x98toosovdua
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK3kpfvd84pxte4edaruqbchuxv
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKbmdppg9ftaaoq7adilxub8hvo
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKowulfmlt929t43hmy8o7bxq0g
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKkxg9brblfr1gedl1lteal7c3t
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKgmnpso59cl1ofp686u9s0x0mj
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKodwoyo8500n6jwp8dcxyfi7fn
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings drop constraint if exists FK71rcgr4fu0kpcjvfn2xdwldnu
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings drop constraint if exists FKp0k94jmkyti0mjs5c5ogj053w
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf drop constraint if exists FKa0hcekyw3gvdpq06qdul0yl9y
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FKsencsq2y9e9k4mq0vvb431hyq
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FK2gwli8nv8yhkygfk4k9vkoc5r
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FK6bf3iv4jb05pvgko20md1vnhx
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKcrt3r07eir3tnxmtorroljt2b
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKo6699pip10k6hsldtjbn846uo
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKq2khfncin6wq582w4gykd7bqo
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKjcoof78lp3shpu2su2qmsenl9
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists entry_code drop constraint if exists FKornnaqf5kmqy4qgg6iw2x43rc
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists notification drop constraint if exists FKnosulxdrf81d3yyo9w2vq5shi
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists ordering_books drop constraint if exists FKi26d365qgpl45rygl9fufr7lw
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKgj4elkqd5pg78t1urewuhnfks
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKdy7kki3evupfeagamxrtq1tgh
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] alter table if exists "user" drop constraint if exists FK66pempyucigmjpecjl2ay1wxh
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists "user_role_users_with_this_role" cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists book cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists book_author cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists book_author_authored_books cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists book_authors cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre_books_with_genre cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists book_genres cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists book_language cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists book_language_books_with_this_language cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists book_publishing_houses cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation_book_to_book_relations cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists book_status cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists book_status_books_with_status cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists book_to_book_relation cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists books_arriving cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists books_arriving_orderings cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf_books cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists borrow cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists borrow_status cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet_shelves cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists entry_code cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists notification cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists ordering_books cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house_published_books cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists "user" cascade
[2025-03-07 14:51:34 [main] DEBUG org.hibernate.SQL] drop table if exists user_role cascade
[2025-03-07 14:51:34 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown initiated...
[2025-03-07 14:51:34 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown completed.
[2025-03-07 14:51:34 [main] INFO  o.a.catalina.core.StandardService] Stopping service [Tomcat]
[2025-03-07 14:51:34 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[2025-03-07 14:51:34 [main] ERROR o.s.boot.SpringApplication] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminController' defined in file [D:\REPOS\libe\target\classes\ru\miit\libe\controllers\AdminController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'mainBookService' defined in file [D:\REPOS\libe\target\classes\ru\miit\libe\services\MainBookService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'IBookRepository' defined in ru.miit.libe.repository.IBookRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(java.lang.Object); Reason: Failed to create query for method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(java.lang.Object); No property 'bookshelf' found for type 'Book'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mainBookService' defined in file [D:\REPOS\libe\target\classes\ru\miit\libe\services\MainBookService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'IBookRepository' defined in ru.miit.libe.repository.IBookRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(java.lang.Object); Reason: Failed to create query for method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(java.lang.Object); No property 'bookshelf' found for type 'Book'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1606)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'IBookRepository' defined in ru.miit.libe.repository.IBookRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(java.lang.Object); Reason: Failed to create query for method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(java.lang.Object); No property 'bookshelf' found for type 'Book'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1664)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(java.lang.Object); Reason: Failed to create query for method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(java.lang.Object); No property 'bookshelf' found for type 'Book'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:440)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 45 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(java.lang.Object); No property 'bookshelf' found for type 'Book'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:262)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 57 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'bookshelf' found for type 'Book'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101)
	... 61 common frames omitted
[2025-03-07 14:52:18 [main] INFO  ru.miit.libe.LibeApplication] Starting LibeApplication v0.0.1 using Java 23.0.1 with PID 4144 (D:\REPOS\libe\target\classes started by bitoche in D:\REPOS\libe)
[2025-03-07 14:52:18 [main] INFO  ru.miit.libe.LibeApplication] The following 1 profile is active: "dev"
[2025-03-07 14:52:18 [main] DEBUG o.s.boot.SpringApplication] Loading source class ru.miit.libe.LibeApplication
[2025-03-07 14:52:18 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ee86bcb
[2025-03-07 14:52:18 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:52:18 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:52:18 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:52:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2025-03-07 14:52:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 88 ms. Found 18 JPA repository interfaces.
[2025-03-07 14:52:19 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:52:19 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:52:19 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.
[2025-03-07 14:52:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat initialized with port 8080 (http)
[2025-03-07 14:52:19 [main] INFO  o.a.catalina.core.StandardService] Starting service [Tomcat]
[2025-03-07 14:52:19 [main] INFO  o.a.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.36]
[2025-03-07 14:52:20 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[2025-03-07 14:52:20 [main] DEBUG o.s.b.w.s.c.ServletWebServerApplicationContext] Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
[2025-03-07 14:52:20 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 1680 ms
[2025-03-07 14:52:20 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
[2025-03-07 14:52:20 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping servlets: dispatcherServlet urls=[/]
[2025-03-07 14:52:20 [main] DEBUG o.s.b.w.s.f.OrderedRequestContextFilter] Filter 'requestContextFilter' configured for use
[2025-03-07 14:52:20 [main] DEBUG o.s.b.w.s.f.OrderedCharacterEncodingFilter] Filter 'characterEncodingFilter' configured for use
[2025-03-07 14:52:20 [main] DEBUG o.s.b.w.s.f.OrderedFormContentFilter] Filter 'formContentFilter' configured for use
[2025-03-07 14:52:20 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:52:20 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:52:20 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:52:20 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:52:20 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:52:20 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[2025-03-07 14:52:20 [main] INFO  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@14df5253
[2025-03-07 14:52:20 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] set client_min_messages = WARNING
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKg0kyf1gbyr6lwu0iumorpgqv6
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKqybncm6c5iudwye9hdht6rxbq
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FK2adqfbphgg2arjwqwivpc75ds
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FKsnmbsrop5evsoiy5fgnnuisre
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKquddbm52fmsf9mpynxiu4f03i
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKdolwn15jycv0ksyhydub2xplu
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKthii9cpr90jk2cf30qqhrpodi
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKkihxjrhtgy1t03ttdivy1misg
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FKm10txued3b7lehw83x2ol8q58
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FK8uwo17by58tqxegx09f90bdbm
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKm15v5yq7ckv98mhxbhlkpe298
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKai44sfnl5ywap4186w6h5tyac
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKa63sbbvsikyityfy174i8lsvg
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKe29wgv68l62d9scco43s65ch5
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FKll7qdwgjnmw5600yq1vx4i0rn
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FK6e18k1gatjy6gs7q1icakri98
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK5wyn87d9nw0j8x98toosovdua
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK3kpfvd84pxte4edaruqbchuxv
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKbmdppg9ftaaoq7adilxub8hvo
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKowulfmlt929t43hmy8o7bxq0g
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKkxg9brblfr1gedl1lteal7c3t
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKgmnpso59cl1ofp686u9s0x0mj
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKodwoyo8500n6jwp8dcxyfi7fn
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings drop constraint if exists FK71rcgr4fu0kpcjvfn2xdwldnu
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings drop constraint if exists FKp0k94jmkyti0mjs5c5ogj053w
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf drop constraint if exists FKa0hcekyw3gvdpq06qdul0yl9y
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FKsencsq2y9e9k4mq0vvb431hyq
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FK2gwli8nv8yhkygfk4k9vkoc5r
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FK6bf3iv4jb05pvgko20md1vnhx
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKcrt3r07eir3tnxmtorroljt2b
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKo6699pip10k6hsldtjbn846uo
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKq2khfncin6wq582w4gykd7bqo
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKjcoof78lp3shpu2su2qmsenl9
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists entry_code drop constraint if exists FKornnaqf5kmqy4qgg6iw2x43rc
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists notification drop constraint if exists FKnosulxdrf81d3yyo9w2vq5shi
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists ordering_books drop constraint if exists FKi26d365qgpl45rygl9fufr7lw
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKgj4elkqd5pg78t1urewuhnfks
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKdy7kki3evupfeagamxrtq1tgh
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists "user" drop constraint if exists FK66pempyucigmjpecjl2ay1wxh
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists "user_role_users_with_this_role" cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_author cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_author_authored_books cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_authors cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre_books_with_genre cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_genres cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_language cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_language_books_with_this_language cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_publishing_houses cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation_book_to_book_relations cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_status cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_status_books_with_status cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_to_book_relation cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists books_arriving cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists books_arriving_orderings cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf_books cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists borrow cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists borrow_status cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet_shelves cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists entry_code cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists notification cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists ordering_books cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house_published_books cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists "user" cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists user_role cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table "user_role_users_with_this_role" (user_role_role_id integer not null, "users_with_this_role_user_id" bigint not null unique)
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table book (book_status_book_status_id integer, language_language_id integer, pages_number integer not null, book_id bigint generated by default as identity, release_date timestamp(6), book_name varchar(255), description varchar(255), identifier varchar(255) unique, primary key (book_id))
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table book_author (author_id bigint generated by default as identity, birth_date timestamp(6), first_name varchar(255), identifier varchar(255) unique, second_name varchar(255), third_name varchar(255), primary key (author_id))
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table book_author_authored_books (authored_books_book_id bigint not null, book_author_author_id bigint not null)
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table book_authors (authors_author_id bigint not null, book_book_id bigint not null)
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table book_genre (genre_id integer generated by default as identity, genre_name varchar(255), primary key (genre_id))
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table book_genre_books_with_genre (book_genre_genre_id integer not null, books_with_genre_book_id bigint not null)
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table book_genres (genres_genre_id integer not null, book_book_id bigint not null)
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table book_language (language_id integer generated by default as identity, language_name varchar(255), primary key (language_id))
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table book_language_books_with_this_language (book_language_language_id integer not null, books_with_this_language_book_id bigint not null)
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table book_publishing_houses (book_book_id bigint not null, publishing_houses_publishing_house_id bigint not null)
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table book_relation (relation_id integer generated by default as identity, relation_name varchar(255), primary key (relation_id))
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table book_relation_book_to_book_relations (book_relation_relation_id integer not null, book_to_book_relations_relation_id integer not null unique)
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table book_status (book_status_id integer generated by default as identity, status_name varchar(255), primary key (book_status_id))
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table book_status_books_with_status (book_status_book_status_id integer not null, books_with_status_book_id bigint not null)
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table book_to_book_relation (relation_id integer generated by default as identity, relation_relation_id integer, main_book_book_id bigint, related_book_book_id bigint, relation_description varchar(255), primary key (relation_id))
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table books_arriving (arriving_dttm timestamp(6), arriving_id bigint generated by default as identity, arrived_books_details varchar(255) array, primary key (arriving_id))
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table books_arriving_orderings (books_arriving_arriving_id bigint not null, orderings_ordering_id bigint not null)
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table bookshelf (cabinet_cabinet_id integer, shelf_id integer generated by default as identity, shelf_name varchar(255), primary key (shelf_id))
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table bookshelf_books (bookshelf_shelf_id integer not null, books_book_id bigint not null unique)
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table borrow (borrow_status_borrow_status_id integer, redemption_price_if_loss integer, borrow_dttm timestamp(6), borrow_id bigint generated by default as identity, borrowed_book_book_id bigint, "borrowed_user_user_id" bigint, expected_return_date timestamp(6), primary key (borrow_id))
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table borrow_status (borrow_status_id integer generated by default as identity, status_name varchar(255), primary key (borrow_status_id))
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table cabinet (cabinet_id integer generated by default as identity, cabinet_number integer not null, cabinet_name varchar(255), primary key (cabinet_id))
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table cabinet_shelves (cabinet_cabinet_id integer not null, shelves_shelf_id integer not null unique)
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table entry_code (code_id bigint generated by default as identity, expire_date_time timestamp(6), "user_user_id" bigint unique, code varchar(255), primary key (code_id))
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table notification (notification_dttm timestamp(6), notification_id bigint generated by default as identity, "user_user_id" bigint, text varchar(255), title varchar(255), primary key (notification_id))
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table ordering_books (is_active boolean not null, expected_arrival_date timestamp(6), "ordered_administrator_user_id" bigint, ordering_dttm timestamp(6), ordering_id bigint generated by default as identity, comment varchar(255), ordered_books_details varchar(255) array, primary key (ordering_id))
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table publishing_house (publishing_house_id bigint generated by default as identity, publishing_house_name varchar(255), primary key (publishing_house_id))
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table publishing_house_published_books (published_books_book_id bigint not null, publishing_house_publishing_house_id bigint not null)
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table "user" (role_role_id integer, birth_date timestamp(6), user_id bigint generated by default as identity, email varchar(255) unique, first_name varchar(255), password varchar(255), second_name varchar(255), third_name varchar(255), primary key (user_id))
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] create table user_role (role_id integer generated by default as identity, role_name varchar(255), primary key (role_id))
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" add constraint FKg0kyf1gbyr6lwu0iumorpgqv6 foreign key ("users_with_this_role_user_id") references "user"
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" add constraint FKqybncm6c5iudwye9hdht6rxbq foreign key (user_role_role_id) references user_role
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book add constraint FK2adqfbphgg2arjwqwivpc75ds foreign key (book_status_book_status_id) references book_status on delete set null
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book add constraint FKsnmbsrop5evsoiy5fgnnuisre foreign key (language_language_id) references book_language on delete set null
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books add constraint FKquddbm52fmsf9mpynxiu4f03i foreign key (authored_books_book_id) references book
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books add constraint FKdolwn15jycv0ksyhydub2xplu foreign key (book_author_author_id) references book_author on delete set null
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors add constraint FKthii9cpr90jk2cf30qqhrpodi foreign key (authors_author_id) references book_author
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors add constraint FKkihxjrhtgy1t03ttdivy1misg foreign key (book_book_id) references book on delete set null
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre add constraint FKm10txued3b7lehw83x2ol8q58 foreign key (books_with_genre_book_id) references book
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre add constraint FK8uwo17by58tqxegx09f90bdbm foreign key (book_genre_genre_id) references book_genre on delete set null
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres add constraint FKm15v5yq7ckv98mhxbhlkpe298 foreign key (genres_genre_id) references book_genre
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres add constraint FKai44sfnl5ywap4186w6h5tyac foreign key (book_book_id) references book on delete set null
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language add constraint FKa63sbbvsikyityfy174i8lsvg foreign key (books_with_this_language_book_id) references book
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language add constraint FKe29wgv68l62d9scco43s65ch5 foreign key (book_language_language_id) references book_language on delete set null
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses add constraint FKll7qdwgjnmw5600yq1vx4i0rn foreign key (publishing_houses_publishing_house_id) references publishing_house
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses add constraint FK6e18k1gatjy6gs7q1icakri98 foreign key (book_book_id) references book on delete set null
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations add constraint FK5wyn87d9nw0j8x98toosovdua foreign key (book_to_book_relations_relation_id) references book_to_book_relation
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations add constraint FK3kpfvd84pxte4edaruqbchuxv foreign key (book_relation_relation_id) references book_relation
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status add constraint FKbmdppg9ftaaoq7adilxub8hvo foreign key (books_with_status_book_id) references book
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status add constraint FKowulfmlt929t43hmy8o7bxq0g foreign key (book_status_book_status_id) references book_status on delete set null
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKkxg9brblfr1gedl1lteal7c3t foreign key (main_book_book_id) references book on delete set null
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKgmnpso59cl1ofp686u9s0x0mj foreign key (related_book_book_id) references book on delete set null
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKodwoyo8500n6jwp8dcxyfi7fn foreign key (relation_relation_id) references book_relation on delete set null
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings add constraint FK71rcgr4fu0kpcjvfn2xdwldnu foreign key (orderings_ordering_id) references ordering_books
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings add constraint FKp0k94jmkyti0mjs5c5ogj053w foreign key (books_arriving_arriving_id) references books_arriving on delete set null
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf add constraint FKa0hcekyw3gvdpq06qdul0yl9y foreign key (cabinet_cabinet_id) references cabinet
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books add constraint FKsencsq2y9e9k4mq0vvb431hyq foreign key (books_book_id) references book
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books add constraint FK2gwli8nv8yhkygfk4k9vkoc5r foreign key (bookshelf_shelf_id) references bookshelf
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FK6bf3iv4jb05pvgko20md1vnhx foreign key (borrow_status_borrow_status_id) references borrow_status on delete set null
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FKcrt3r07eir3tnxmtorroljt2b foreign key (borrowed_book_book_id) references book on delete set null
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FKo6699pip10k6hsldtjbn846uo foreign key ("borrowed_user_user_id") references "user" on delete set null
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves add constraint FKq2khfncin6wq582w4gykd7bqo foreign key (shelves_shelf_id) references bookshelf
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves add constraint FKjcoof78lp3shpu2su2qmsenl9 foreign key (cabinet_cabinet_id) references cabinet
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists entry_code add constraint FKornnaqf5kmqy4qgg6iw2x43rc foreign key ("user_user_id") references "user" on delete cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists notification add constraint FKnosulxdrf81d3yyo9w2vq5shi foreign key ("user_user_id") references "user"
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists ordering_books add constraint FKi26d365qgpl45rygl9fufr7lw foreign key ("ordered_administrator_user_id") references "user" on delete set null
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books add constraint FKgj4elkqd5pg78t1urewuhnfks foreign key (published_books_book_id) references book
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books add constraint FKdy7kki3evupfeagamxrtq1tgh foreign key (publishing_house_publishing_house_id) references publishing_house on delete set null
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists "user" add constraint FK66pempyucigmjpecjl2ay1wxh foreign key (role_role_id) references user_role on delete set null
[2025-03-07 14:52:22 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminController' defined in file [D:\REPOS\libe\target\classes\ru\miit\libe\controllers\AdminController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'mainBookService' defined in file [D:\REPOS\libe\target\classes\ru\miit\libe\services\MainBookService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'IBookRepository' defined in ru.miit.libe.repository.IBookRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(long); Reason: Failed to create query for method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(long); No property 'bookshelf' found for type 'Book'
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] set client_min_messages = WARNING
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKg0kyf1gbyr6lwu0iumorpgqv6
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKqybncm6c5iudwye9hdht6rxbq
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FK2adqfbphgg2arjwqwivpc75ds
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FKsnmbsrop5evsoiy5fgnnuisre
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKquddbm52fmsf9mpynxiu4f03i
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKdolwn15jycv0ksyhydub2xplu
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKthii9cpr90jk2cf30qqhrpodi
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKkihxjrhtgy1t03ttdivy1misg
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FKm10txued3b7lehw83x2ol8q58
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FK8uwo17by58tqxegx09f90bdbm
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKm15v5yq7ckv98mhxbhlkpe298
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKai44sfnl5ywap4186w6h5tyac
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKa63sbbvsikyityfy174i8lsvg
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKe29wgv68l62d9scco43s65ch5
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FKll7qdwgjnmw5600yq1vx4i0rn
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FK6e18k1gatjy6gs7q1icakri98
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK5wyn87d9nw0j8x98toosovdua
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK3kpfvd84pxte4edaruqbchuxv
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKbmdppg9ftaaoq7adilxub8hvo
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKowulfmlt929t43hmy8o7bxq0g
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKkxg9brblfr1gedl1lteal7c3t
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKgmnpso59cl1ofp686u9s0x0mj
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKodwoyo8500n6jwp8dcxyfi7fn
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings drop constraint if exists FK71rcgr4fu0kpcjvfn2xdwldnu
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings drop constraint if exists FKp0k94jmkyti0mjs5c5ogj053w
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf drop constraint if exists FKa0hcekyw3gvdpq06qdul0yl9y
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FKsencsq2y9e9k4mq0vvb431hyq
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FK2gwli8nv8yhkygfk4k9vkoc5r
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FK6bf3iv4jb05pvgko20md1vnhx
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKcrt3r07eir3tnxmtorroljt2b
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKo6699pip10k6hsldtjbn846uo
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKq2khfncin6wq582w4gykd7bqo
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKjcoof78lp3shpu2su2qmsenl9
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists entry_code drop constraint if exists FKornnaqf5kmqy4qgg6iw2x43rc
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists notification drop constraint if exists FKnosulxdrf81d3yyo9w2vq5shi
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists ordering_books drop constraint if exists FKi26d365qgpl45rygl9fufr7lw
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKgj4elkqd5pg78t1urewuhnfks
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKdy7kki3evupfeagamxrtq1tgh
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] alter table if exists "user" drop constraint if exists FK66pempyucigmjpecjl2ay1wxh
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists "user_role_users_with_this_role" cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_author cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_author_authored_books cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_authors cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre_books_with_genre cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_genres cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_language cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_language_books_with_this_language cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_publishing_houses cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation_book_to_book_relations cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_status cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_status_books_with_status cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists book_to_book_relation cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists books_arriving cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists books_arriving_orderings cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf_books cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists borrow cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists borrow_status cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet_shelves cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists entry_code cascade
[2025-03-07 14:52:22 [main] DEBUG org.hibernate.SQL] drop table if exists notification cascade
[2025-03-07 14:52:23 [main] DEBUG org.hibernate.SQL] drop table if exists ordering_books cascade
[2025-03-07 14:52:23 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house cascade
[2025-03-07 14:52:23 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house_published_books cascade
[2025-03-07 14:52:23 [main] DEBUG org.hibernate.SQL] drop table if exists "user" cascade
[2025-03-07 14:52:23 [main] DEBUG org.hibernate.SQL] drop table if exists user_role cascade
[2025-03-07 14:52:23 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown initiated...
[2025-03-07 14:52:23 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown completed.
[2025-03-07 14:52:23 [main] INFO  o.a.catalina.core.StandardService] Stopping service [Tomcat]
[2025-03-07 14:52:23 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[2025-03-07 14:52:23 [main] ERROR o.s.boot.SpringApplication] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminController' defined in file [D:\REPOS\libe\target\classes\ru\miit\libe\controllers\AdminController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'mainBookService' defined in file [D:\REPOS\libe\target\classes\ru\miit\libe\services\MainBookService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'IBookRepository' defined in ru.miit.libe.repository.IBookRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(long); Reason: Failed to create query for method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(long); No property 'bookshelf' found for type 'Book'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mainBookService' defined in file [D:\REPOS\libe\target\classes\ru\miit\libe\services\MainBookService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'IBookRepository' defined in ru.miit.libe.repository.IBookRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(long); Reason: Failed to create query for method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(long); No property 'bookshelf' found for type 'Book'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1606)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'IBookRepository' defined in ru.miit.libe.repository.IBookRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(long); Reason: Failed to create query for method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(long); No property 'bookshelf' found for type 'Book'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1664)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1552)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(long); Reason: Failed to create query for method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(long); No property 'bookshelf' found for type 'Book'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:440)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 45 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List ru.miit.libe.repository.IBookRepository.findByBookshelf_ShelfId(long); No property 'bookshelf' found for type 'Book'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:262)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 57 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'bookshelf' found for type 'Book'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101)
	... 61 common frames omitted
[2025-03-07 14:53:27 [main] INFO  ru.miit.libe.LibeApplication] Starting LibeApplication v0.0.1 using Java 23.0.1 with PID 10864 (D:\REPOS\libe\target\classes started by bitoche in D:\REPOS\libe)
[2025-03-07 14:53:27 [main] INFO  ru.miit.libe.LibeApplication] The following 1 profile is active: "dev"
[2025-03-07 14:53:27 [main] DEBUG o.s.boot.SpringApplication] Loading source class ru.miit.libe.LibeApplication
[2025-03-07 14:53:27 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ee86bcb
[2025-03-07 14:53:27 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:53:27 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:53:27 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:53:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2025-03-07 14:53:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 92 ms. Found 18 JPA repository interfaces.
[2025-03-07 14:53:28 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:53:28 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:53:28 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.
[2025-03-07 14:53:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat initialized with port 8080 (http)
[2025-03-07 14:53:28 [main] INFO  o.a.catalina.core.StandardService] Starting service [Tomcat]
[2025-03-07 14:53:28 [main] INFO  o.a.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.36]
[2025-03-07 14:53:28 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[2025-03-07 14:53:28 [main] DEBUG o.s.b.w.s.c.ServletWebServerApplicationContext] Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
[2025-03-07 14:53:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 1641 ms
[2025-03-07 14:53:28 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
[2025-03-07 14:53:28 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping servlets: dispatcherServlet urls=[/]
[2025-03-07 14:53:28 [main] DEBUG o.s.b.w.s.f.OrderedRequestContextFilter] Filter 'requestContextFilter' configured for use
[2025-03-07 14:53:28 [main] DEBUG o.s.b.w.s.f.OrderedCharacterEncodingFilter] Filter 'characterEncodingFilter' configured for use
[2025-03-07 14:53:28 [main] DEBUG o.s.b.w.s.f.OrderedFormContentFilter] Filter 'formContentFilter' configured for use
[2025-03-07 14:53:28 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:53:28 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:53:28 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:53:28 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:53:28 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:53:29 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[2025-03-07 14:53:29 [main] INFO  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1488a861
[2025-03-07 14:53:29 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] set client_min_messages = WARNING
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKg0kyf1gbyr6lwu0iumorpgqv6
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKqybncm6c5iudwye9hdht6rxbq
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FK2adqfbphgg2arjwqwivpc75ds
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FK3dckb4tao7buu37aamq0kprfm
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FKsnmbsrop5evsoiy5fgnnuisre
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKquddbm52fmsf9mpynxiu4f03i
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKdolwn15jycv0ksyhydub2xplu
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKthii9cpr90jk2cf30qqhrpodi
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKkihxjrhtgy1t03ttdivy1misg
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FKm10txued3b7lehw83x2ol8q58
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FK8uwo17by58tqxegx09f90bdbm
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKm15v5yq7ckv98mhxbhlkpe298
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKai44sfnl5ywap4186w6h5tyac
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKa63sbbvsikyityfy174i8lsvg
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKe29wgv68l62d9scco43s65ch5
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FKll7qdwgjnmw5600yq1vx4i0rn
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FK6e18k1gatjy6gs7q1icakri98
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK5wyn87d9nw0j8x98toosovdua
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK3kpfvd84pxte4edaruqbchuxv
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKbmdppg9ftaaoq7adilxub8hvo
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKowulfmlt929t43hmy8o7bxq0g
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKkxg9brblfr1gedl1lteal7c3t
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKgmnpso59cl1ofp686u9s0x0mj
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKodwoyo8500n6jwp8dcxyfi7fn
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings drop constraint if exists FK71rcgr4fu0kpcjvfn2xdwldnu
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings drop constraint if exists FKp0k94jmkyti0mjs5c5ogj053w
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf drop constraint if exists FKa0hcekyw3gvdpq06qdul0yl9y
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FKsencsq2y9e9k4mq0vvb431hyq
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FK2gwli8nv8yhkygfk4k9vkoc5r
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FK6bf3iv4jb05pvgko20md1vnhx
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKcrt3r07eir3tnxmtorroljt2b
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKo6699pip10k6hsldtjbn846uo
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKq2khfncin6wq582w4gykd7bqo
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKjcoof78lp3shpu2su2qmsenl9
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists entry_code drop constraint if exists FKornnaqf5kmqy4qgg6iw2x43rc
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists notification drop constraint if exists FKnosulxdrf81d3yyo9w2vq5shi
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists ordering_books drop constraint if exists FKi26d365qgpl45rygl9fufr7lw
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKgj4elkqd5pg78t1urewuhnfks
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKdy7kki3evupfeagamxrtq1tgh
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists "user" drop constraint if exists FK66pempyucigmjpecjl2ay1wxh
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists "user_role_users_with_this_role" cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists book cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists book_author cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists book_author_authored_books cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists book_authors cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre_books_with_genre cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists book_genres cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists book_language cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists book_language_books_with_this_language cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists book_publishing_houses cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation_book_to_book_relations cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists book_status cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists book_status_books_with_status cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists book_to_book_relation cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists books_arriving cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists books_arriving_orderings cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf_books cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists borrow cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists borrow_status cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet_shelves cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists entry_code cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists notification cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists ordering_books cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house_published_books cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists "user" cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] drop table if exists user_role cascade
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table "user_role_users_with_this_role" (user_role_role_id integer not null, "users_with_this_role_user_id" bigint not null unique)
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table book (book_status_book_status_id integer, bookshelf_shelf_id integer, language_language_id integer, pages_number integer not null, book_id bigint generated by default as identity, release_date timestamp(6), book_name varchar(255), description varchar(255), identifier varchar(255) unique, primary key (book_id))
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table book_author (author_id bigint generated by default as identity, birth_date timestamp(6), first_name varchar(255), identifier varchar(255) unique, second_name varchar(255), third_name varchar(255), primary key (author_id))
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table book_author_authored_books (authored_books_book_id bigint not null, book_author_author_id bigint not null)
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table book_authors (authors_author_id bigint not null, book_book_id bigint not null)
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table book_genre (genre_id integer generated by default as identity, genre_name varchar(255), primary key (genre_id))
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table book_genre_books_with_genre (book_genre_genre_id integer not null, books_with_genre_book_id bigint not null)
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table book_genres (genres_genre_id integer not null, book_book_id bigint not null)
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table book_language (language_id integer generated by default as identity, language_name varchar(255), primary key (language_id))
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table book_language_books_with_this_language (book_language_language_id integer not null, books_with_this_language_book_id bigint not null)
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table book_publishing_houses (book_book_id bigint not null, publishing_houses_publishing_house_id bigint not null)
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table book_relation (relation_id integer generated by default as identity, relation_name varchar(255), primary key (relation_id))
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table book_relation_book_to_book_relations (book_relation_relation_id integer not null, book_to_book_relations_relation_id integer not null unique)
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table book_status (book_status_id integer generated by default as identity, status_name varchar(255), primary key (book_status_id))
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table book_status_books_with_status (book_status_book_status_id integer not null, books_with_status_book_id bigint not null)
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table book_to_book_relation (relation_id integer generated by default as identity, relation_relation_id integer, main_book_book_id bigint, related_book_book_id bigint, relation_description varchar(255), primary key (relation_id))
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table books_arriving (arriving_dttm timestamp(6), arriving_id bigint generated by default as identity, arrived_books_details varchar(255) array, primary key (arriving_id))
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table books_arriving_orderings (books_arriving_arriving_id bigint not null, orderings_ordering_id bigint not null)
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table bookshelf (cabinet_cabinet_id integer, shelf_id integer generated by default as identity, shelf_name varchar(255), primary key (shelf_id))
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table bookshelf_books (bookshelf_shelf_id integer not null, books_book_id bigint not null unique)
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table borrow (borrow_status_borrow_status_id integer, redemption_price_if_loss integer, borrow_dttm timestamp(6), borrow_id bigint generated by default as identity, borrowed_book_book_id bigint, "borrowed_user_user_id" bigint, expected_return_date timestamp(6), primary key (borrow_id))
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table borrow_status (borrow_status_id integer generated by default as identity, status_name varchar(255), primary key (borrow_status_id))
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table cabinet (cabinet_id integer generated by default as identity, cabinet_number integer not null, cabinet_name varchar(255), primary key (cabinet_id))
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table cabinet_shelves (cabinet_cabinet_id integer not null, shelves_shelf_id integer not null unique)
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table entry_code (code_id bigint generated by default as identity, expire_date_time timestamp(6), "user_user_id" bigint unique, code varchar(255), primary key (code_id))
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table notification (notification_dttm timestamp(6), notification_id bigint generated by default as identity, "user_user_id" bigint, text varchar(255), title varchar(255), primary key (notification_id))
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table ordering_books (is_active boolean not null, expected_arrival_date timestamp(6), "ordered_administrator_user_id" bigint, ordering_dttm timestamp(6), ordering_id bigint generated by default as identity, comment varchar(255), ordered_books_details varchar(255) array, primary key (ordering_id))
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table publishing_house (publishing_house_id bigint generated by default as identity, publishing_house_name varchar(255), primary key (publishing_house_id))
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table publishing_house_published_books (published_books_book_id bigint not null, publishing_house_publishing_house_id bigint not null)
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table "user" (role_role_id integer, birth_date timestamp(6), user_id bigint generated by default as identity, email varchar(255) unique, first_name varchar(255), password varchar(255), second_name varchar(255), third_name varchar(255), primary key (user_id))
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] create table user_role (role_id integer generated by default as identity, role_name varchar(255), primary key (role_id))
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" add constraint FKg0kyf1gbyr6lwu0iumorpgqv6 foreign key ("users_with_this_role_user_id") references "user"
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" add constraint FKqybncm6c5iudwye9hdht6rxbq foreign key (user_role_role_id) references user_role
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book add constraint FK2adqfbphgg2arjwqwivpc75ds foreign key (book_status_book_status_id) references book_status on delete set null
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book add constraint FK3dckb4tao7buu37aamq0kprfm foreign key (bookshelf_shelf_id) references bookshelf on delete set null
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book add constraint FKsnmbsrop5evsoiy5fgnnuisre foreign key (language_language_id) references book_language on delete set null
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books add constraint FKquddbm52fmsf9mpynxiu4f03i foreign key (authored_books_book_id) references book
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books add constraint FKdolwn15jycv0ksyhydub2xplu foreign key (book_author_author_id) references book_author on delete set null
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors add constraint FKthii9cpr90jk2cf30qqhrpodi foreign key (authors_author_id) references book_author
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors add constraint FKkihxjrhtgy1t03ttdivy1misg foreign key (book_book_id) references book on delete set null
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre add constraint FKm10txued3b7lehw83x2ol8q58 foreign key (books_with_genre_book_id) references book
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre add constraint FK8uwo17by58tqxegx09f90bdbm foreign key (book_genre_genre_id) references book_genre on delete set null
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres add constraint FKm15v5yq7ckv98mhxbhlkpe298 foreign key (genres_genre_id) references book_genre
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres add constraint FKai44sfnl5ywap4186w6h5tyac foreign key (book_book_id) references book on delete set null
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language add constraint FKa63sbbvsikyityfy174i8lsvg foreign key (books_with_this_language_book_id) references book
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language add constraint FKe29wgv68l62d9scco43s65ch5 foreign key (book_language_language_id) references book_language on delete set null
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses add constraint FKll7qdwgjnmw5600yq1vx4i0rn foreign key (publishing_houses_publishing_house_id) references publishing_house
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses add constraint FK6e18k1gatjy6gs7q1icakri98 foreign key (book_book_id) references book on delete set null
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations add constraint FK5wyn87d9nw0j8x98toosovdua foreign key (book_to_book_relations_relation_id) references book_to_book_relation
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations add constraint FK3kpfvd84pxte4edaruqbchuxv foreign key (book_relation_relation_id) references book_relation
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status add constraint FKbmdppg9ftaaoq7adilxub8hvo foreign key (books_with_status_book_id) references book
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status add constraint FKowulfmlt929t43hmy8o7bxq0g foreign key (book_status_book_status_id) references book_status on delete set null
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKkxg9brblfr1gedl1lteal7c3t foreign key (main_book_book_id) references book on delete set null
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKgmnpso59cl1ofp686u9s0x0mj foreign key (related_book_book_id) references book on delete set null
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKodwoyo8500n6jwp8dcxyfi7fn foreign key (relation_relation_id) references book_relation on delete set null
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings add constraint FK71rcgr4fu0kpcjvfn2xdwldnu foreign key (orderings_ordering_id) references ordering_books
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings add constraint FKp0k94jmkyti0mjs5c5ogj053w foreign key (books_arriving_arriving_id) references books_arriving on delete set null
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf add constraint FKa0hcekyw3gvdpq06qdul0yl9y foreign key (cabinet_cabinet_id) references cabinet
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books add constraint FKsencsq2y9e9k4mq0vvb431hyq foreign key (books_book_id) references book
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books add constraint FK2gwli8nv8yhkygfk4k9vkoc5r foreign key (bookshelf_shelf_id) references bookshelf
[2025-03-07 14:53:30 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FK6bf3iv4jb05pvgko20md1vnhx foreign key (borrow_status_borrow_status_id) references borrow_status on delete set null
[2025-03-07 14:53:31 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FKcrt3r07eir3tnxmtorroljt2b foreign key (borrowed_book_book_id) references book on delete set null
[2025-03-07 14:53:31 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FKo6699pip10k6hsldtjbn846uo foreign key ("borrowed_user_user_id") references "user" on delete set null
[2025-03-07 14:53:31 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves add constraint FKq2khfncin6wq582w4gykd7bqo foreign key (shelves_shelf_id) references bookshelf
[2025-03-07 14:53:31 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves add constraint FKjcoof78lp3shpu2su2qmsenl9 foreign key (cabinet_cabinet_id) references cabinet
[2025-03-07 14:53:31 [main] DEBUG org.hibernate.SQL] alter table if exists entry_code add constraint FKornnaqf5kmqy4qgg6iw2x43rc foreign key ("user_user_id") references "user" on delete cascade
[2025-03-07 14:53:31 [main] DEBUG org.hibernate.SQL] alter table if exists notification add constraint FKnosulxdrf81d3yyo9w2vq5shi foreign key ("user_user_id") references "user"
[2025-03-07 14:53:31 [main] DEBUG org.hibernate.SQL] alter table if exists ordering_books add constraint FKi26d365qgpl45rygl9fufr7lw foreign key ("ordered_administrator_user_id") references "user" on delete set null
[2025-03-07 14:53:31 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books add constraint FKgj4elkqd5pg78t1urewuhnfks foreign key (published_books_book_id) references book
[2025-03-07 14:53:31 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books add constraint FKdy7kki3evupfeagamxrtq1tgh foreign key (publishing_house_publishing_house_id) references publishing_house on delete set null
[2025-03-07 14:53:31 [main] DEBUG org.hibernate.SQL] alter table if exists "user" add constraint FK66pempyucigmjpecjl2ay1wxh foreign key (role_role_id) references user_role on delete set null
[2025-03-07 14:53:31 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'MAIL_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:53:31 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'MAIL_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:53:31 [main] INFO  o.s.v.b.OptionalValidatorFactoryBean] Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
[2025-03-07 14:53:31 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping] 54 mappings in 'requestMappingHandlerMapping'
[2025-03-07 14:53:32 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
[2025-03-07 14:53:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
[2025-03-07 14:53:32 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
[2025-03-07 14:53:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat started on port 8080 (http) with context path '/'
[2025-03-07 14:53:32 [main] INFO  ru.miit.libe.LibeApplication] Started LibeApplication in 5.866 seconds (process running for 6.372)
[2025-03-07 14:53:32 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean] Application availability state LivenessState changed to CORRECT
[2025-03-07 14:53:32 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[2025-03-07 14:53:39 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring DispatcherServlet 'dispatcherServlet'
[2025-03-07 14:53:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet] Initializing Servlet 'dispatcherServlet'
[2025-03-07 14:53:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet] Detected StandardServletMultipartResolver
[2025-03-07 14:53:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet] Detected AcceptHeaderLocaleResolver
[2025-03-07 14:53:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet] Detected FixedThemeResolver
[2025-03-07 14:53:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@65384249
[2025-03-07 14:53:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet] Detected org.springframework.web.servlet.support.SessionFlashMapManager@37bac0f4
[2025-03-07 14:53:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
[2025-03-07 14:53:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet] Completed initialization in 2 ms
[2025-03-07 14:53:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet] GET "/", parameters={}
[2025-03-07 14:53:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping] Mapped to ru.miit.libe.controllers.TESTCONTROLLER#returnToSwagger()
[2025-03-07 14:53:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.view.RedirectView] View name [redirect:], model {}
[2025-03-07 14:53:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet] Completed 302 FOUND
[2025-03-07 14:53:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet] GET "/swagger-ui/index.html", parameters={}
[2025-03-07 14:53:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
[2025-03-07 14:53:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet] Completed 200 OK
[2025-03-07 14:53:39 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet] GET "/swagger-ui/swagger-ui.css", parameters={}
[2025-03-07 14:53:39 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet] GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
[2025-03-07 14:53:39 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet] GET "/swagger-ui/swagger-initializer.js", parameters={}
[2025-03-07 14:53:39 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet] GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
[2025-03-07 14:53:39 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet] GET "/swagger-ui/index.css", parameters={}
[2025-03-07 14:53:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
[2025-03-07 14:53:39 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
[2025-03-07 14:53:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
[2025-03-07 14:53:39 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
[2025-03-07 14:53:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
[2025-03-07 14:53:39 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet] Completed 200 OK
[2025-03-07 14:53:39 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet] Completed 200 OK
[2025-03-07 14:53:39 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet] Completed 200 OK
[2025-03-07 14:53:39 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet] Completed 200 OK
[2025-03-07 14:53:39 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet] Completed 200 OK
[2025-03-07 14:53:39 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet] GET "/v3/api-docs/swagger-config", parameters={}
[2025-03-07 14:53:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping] Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
[2025-03-07 14:53:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor] Using 'application/json', given [*/*] and supported [application/json]
[2025-03-07 14:53:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor] Writing [{configUrl=/v3/api-docs/swagger-config, defaultModelRendering=model, displayRequestDuration=true, oa (truncated)...]
[2025-03-07 14:53:39 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet] Completed 200 OK
[2025-03-07 14:53:39 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet] GET "/v3/api-docs", parameters={}
[2025-03-07 14:53:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping] Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
[2025-03-07 14:53:40 [http-nio-8080-exec-9] INFO  o.s.api.AbstractOpenApiResource] Init duration for springdoc-openapi is: 1093 ms
[2025-03-07 14:53:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor] Using 'application/json', given [application/json, */*] and supported [application/json]
[2025-03-07 14:53:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor] Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
[2025-03-07 14:53:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet] Completed 200 OK
[2025-03-07 14:53:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet] GET "/api/book/getBooks", parameters={}
[2025-03-07 14:53:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping] Mapped to ru.miit.libe.controllers.BookController#getAllBooks()
[2025-03-07 14:53:59 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL] select b1_0.book_id,b1_0.book_name,b1_0.book_status_book_status_id,b1_0.bookshelf_shelf_id,b1_0.description,b1_0.identifier,b1_0.language_language_id,b1_0.pages_number,b1_0.release_date from book b1_0
[2025-03-07 14:53:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
[2025-03-07 14:53:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor] Writing [[]]
[2025-03-07 14:53:59 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet] Completed 200 OK
[2025-03-07 14:54:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet] GET "/api/book/byName?namePart=fa", parameters={masked}
[2025-03-07 14:54:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping] Mapped to ru.miit.libe.controllers.BookController#getBooksByName(String)
[2025-03-07 14:54:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL] select b1_0.book_id,b1_0.book_name,b1_0.book_status_book_status_id,b1_0.bookshelf_shelf_id,b1_0.description,b1_0.identifier,b1_0.language_language_id,b1_0.pages_number,b1_0.release_date from book b1_0 where b1_0.book_name like ? escape '\'
[2025-03-07 14:54:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
[2025-03-07 14:54:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor] Writing [[]]
[2025-03-07 14:54:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet] Completed 200 OK
[2025-03-07 14:54:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet] POST "/auth/register?firstName=%D0%90%D0%BD%D0%B4%D1%80%D0%B5%D0%B9&secondName=%D0%A9%D0%B5%D0%BB%D0%BA%D0%BE%D0%B2&email=sunraw%40bk.ru&password=Medvedev90", parameters={masked}
[2025-03-07 14:54:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping] Mapped to ru.miit.libe.controllers.AuthController#registerUser(String, String, String, Date, String, String)
[2025-03-07 14:54:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL] select ur1_0.role_id from user_role ur1_0 where ur1_0.role_name=? fetch first ? rows only
[2025-03-07 14:54:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL] insert into user_role (role_name) values (?)
[2025-03-07 14:54:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL] select u1_0.user_id,u1_0.birth_date,u1_0.email,u1_0.first_name,u1_0.password,u1_0.role_role_id,u1_0.second_name,u1_0.third_name from "user" u1_0 where u1_0.email=?
[2025-03-07 14:54:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL] select ur1_0.role_id,ur1_0.role_name from user_role ur1_0 where ur1_0.role_name=?
[2025-03-07 14:54:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL] insert into "user" (birth_date,email,first_name,password,role_role_id,second_name,third_name) values (?,?,?,?,?,?,?)
[2025-03-07 14:54:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL] select u1_0.user_id from "user" u1_0 where u1_0.email=? fetch first ? rows only
[2025-03-07 14:54:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL] insert into entry_code (code,expire_date_time,"user_user_id") values (?,?,?)
[2025-03-07 14:55:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
[2025-03-07 14:55:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor] Writing [CreateUserRequest(firstName=Андрей, secondName=Щелков, thirdName=null, birthDate=null, email=sunraw@ (truncated)...]
[2025-03-07 14:55:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet] Completed 200 OK
[2025-03-07 14:55:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet] POST "/auth/codeAfterRegister?entryCode=474203&email=sunraw%40bk.ru&password=Medvedev90", parameters={masked}
[2025-03-07 14:55:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping] Mapped to ru.miit.libe.controllers.AuthController#getAccessToAccount(String, String, String)
[2025-03-07 14:55:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet] Failed to complete request: java.lang.IllegalStateException: No target Validator set
[2025-03-07 14:55:31 [http-nio-8080-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet]] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: No target Validator set] with root cause
java.lang.IllegalStateException: No target Validator set
	at org.springframework.util.Assert.state(Assert.java:79)
	at org.springframework.validation.beanvalidation.SpringValidatorAdapter.forExecutables(SpringValidatorAdapter.java:402)
	at org.springframework.validation.beanvalidation.MethodValidationAdapter.invokeValidatorForArguments(MethodValidationAdapter.java:259)
	at org.springframework.validation.beanvalidation.MethodValidationAdapter.validateArguments(MethodValidationAdapter.java:242)
	at org.springframework.web.method.annotation.HandlerMethodValidator.validateArguments(HandlerMethodValidator.java:115)
	at org.springframework.web.method.annotation.HandlerMethodValidator.applyArgumentValidation(HandlerMethodValidator.java:83)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:186)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
[2025-03-07 14:55:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet] "ERROR" dispatch for POST "/error?entryCode=474203&email=sunraw%40bk.ru&password=Medvedev90", parameters={masked}
[2025-03-07 14:55:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping] Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
[2025-03-07 14:55:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
[2025-03-07 14:55:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor] Writing [{timestamp=Fri Mar 07 14:55:31 MSK 2025, status=500, error=Internal Server Error, path=/auth/codeAft (truncated)...]
[2025-03-07 14:55:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet] Exiting from "ERROR" dispatch, status 500
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG o.s.b.a.ApplicationAvailabilityBean] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@ee86bcb, started on Fri Mar 07 14:53:27 MSK 2025
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown] Commencing graceful shutdown. Waiting for active requests to complete
[2025-03-07 14:57:20 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown] Graceful shutdown complete
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] set client_min_messages = WARNING
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKg0kyf1gbyr6lwu0iumorpgqv6
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKqybncm6c5iudwye9hdht6rxbq
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FK2adqfbphgg2arjwqwivpc75ds
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FK3dckb4tao7buu37aamq0kprfm
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FKsnmbsrop5evsoiy5fgnnuisre
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKquddbm52fmsf9mpynxiu4f03i
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKdolwn15jycv0ksyhydub2xplu
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKthii9cpr90jk2cf30qqhrpodi
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKkihxjrhtgy1t03ttdivy1misg
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FKm10txued3b7lehw83x2ol8q58
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FK8uwo17by58tqxegx09f90bdbm
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKm15v5yq7ckv98mhxbhlkpe298
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKai44sfnl5ywap4186w6h5tyac
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKa63sbbvsikyityfy174i8lsvg
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKe29wgv68l62d9scco43s65ch5
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FKll7qdwgjnmw5600yq1vx4i0rn
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FK6e18k1gatjy6gs7q1icakri98
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK5wyn87d9nw0j8x98toosovdua
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK3kpfvd84pxte4edaruqbchuxv
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKbmdppg9ftaaoq7adilxub8hvo
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKowulfmlt929t43hmy8o7bxq0g
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKkxg9brblfr1gedl1lteal7c3t
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKgmnpso59cl1ofp686u9s0x0mj
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKodwoyo8500n6jwp8dcxyfi7fn
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings drop constraint if exists FK71rcgr4fu0kpcjvfn2xdwldnu
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings drop constraint if exists FKp0k94jmkyti0mjs5c5ogj053w
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists bookshelf drop constraint if exists FKa0hcekyw3gvdpq06qdul0yl9y
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FKsencsq2y9e9k4mq0vvb431hyq
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FK2gwli8nv8yhkygfk4k9vkoc5r
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FK6bf3iv4jb05pvgko20md1vnhx
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKcrt3r07eir3tnxmtorroljt2b
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKo6699pip10k6hsldtjbn846uo
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKq2khfncin6wq582w4gykd7bqo
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKjcoof78lp3shpu2su2qmsenl9
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists entry_code drop constraint if exists FKornnaqf5kmqy4qgg6iw2x43rc
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists notification drop constraint if exists FKnosulxdrf81d3yyo9w2vq5shi
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists ordering_books drop constraint if exists FKi26d365qgpl45rygl9fufr7lw
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKgj4elkqd5pg78t1urewuhnfks
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKdy7kki3evupfeagamxrtq1tgh
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] alter table if exists "user" drop constraint if exists FK66pempyucigmjpecjl2ay1wxh
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists "user_role_users_with_this_role" cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_author cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_author_authored_books cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_authors cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_genre cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_genre_books_with_genre cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_genres cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_language cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_language_books_with_this_language cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_publishing_houses cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_relation cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_relation_book_to_book_relations cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_status cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_status_books_with_status cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists book_to_book_relation cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists books_arriving cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists books_arriving_orderings cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists bookshelf cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists bookshelf_books cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists borrow cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists borrow_status cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists cabinet cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists cabinet_shelves cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists entry_code cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists notification cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists ordering_books cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists publishing_house cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists publishing_house_published_books cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists "user" cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL] drop table if exists user_role cascade
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown initiated...
[2025-03-07 14:57:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown completed.
[2025-03-07 14:57:26 [main] INFO  ru.miit.libe.LibeApplication] Starting LibeApplication v0.0.1 using Java 23.0.1 with PID 12716 (D:\REPOS\libe\target\classes started by bitoche in D:\REPOS\libe)
[2025-03-07 14:57:26 [main] INFO  ru.miit.libe.LibeApplication] The following 1 profile is active: "dev"
[2025-03-07 14:57:26 [main] DEBUG o.s.boot.SpringApplication] Loading source class ru.miit.libe.LibeApplication
[2025-03-07 14:57:26 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2631f68c
[2025-03-07 14:57:26 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:57:26 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:57:26 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:57:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2025-03-07 14:57:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 91 ms. Found 18 JPA repository interfaces.
[2025-03-07 14:57:27 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:57:27 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:57:27 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.
[2025-03-07 14:57:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat initialized with port 8080 (http)
[2025-03-07 14:57:27 [main] INFO  o.a.catalina.core.StandardService] Starting service [Tomcat]
[2025-03-07 14:57:27 [main] INFO  o.a.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.36]
[2025-03-07 14:57:28 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[2025-03-07 14:57:28 [main] DEBUG o.s.b.w.s.c.ServletWebServerApplicationContext] Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
[2025-03-07 14:57:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 1681 ms
[2025-03-07 14:57:28 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
[2025-03-07 14:57:28 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping servlets: dispatcherServlet urls=[/]
[2025-03-07 14:57:28 [main] DEBUG o.s.b.w.s.f.OrderedRequestContextFilter] Filter 'requestContextFilter' configured for use
[2025-03-07 14:57:28 [main] DEBUG o.s.b.w.s.f.OrderedCharacterEncodingFilter] Filter 'characterEncodingFilter' configured for use
[2025-03-07 14:57:28 [main] DEBUG o.s.b.w.s.f.OrderedFormContentFilter] Filter 'formContentFilter' configured for use
[2025-03-07 14:57:28 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:57:28 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:57:28 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:57:28 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:57:28 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:57:28 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[2025-03-07 14:57:28 [main] INFO  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@46894dc5
[2025-03-07 14:57:28 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[2025-03-07 14:57:30 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean] Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [`user_role_users_with_this_role`]
[2025-03-07 14:57:30 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [`user_role_users_with_this_role`]
[2025-03-07 14:57:30 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown initiated...
[2025-03-07 14:57:30 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown completed.
[2025-03-07 14:57:30 [main] INFO  o.a.catalina.core.StandardService] Stopping service [Tomcat]
[2025-03-07 14:57:30 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[2025-03-07 14:57:30 [main] ERROR o.s.boot.SpringApplication] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [`user_role_users_with_this_role`]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at ru.miit.libe.LibeApplication.main(LibeApplication.java:78)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [`user_role_users_with_this_role`]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 15 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [`user_role_users_with_this_role`]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:136)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:99)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:77)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:289)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 19 common frames omitted
[2025-03-07 14:58:25 [main] INFO  ru.miit.libe.LibeApplication] Starting LibeApplication v0.0.1 using Java 23.0.1 with PID 752 (D:\REPOS\libe\target\classes started by bitoche in D:\REPOS\libe)
[2025-03-07 14:58:25 [main] INFO  ru.miit.libe.LibeApplication] The following 1 profile is active: "dev"
[2025-03-07 14:58:25 [main] DEBUG o.s.boot.SpringApplication] Loading source class ru.miit.libe.LibeApplication
[2025-03-07 14:58:26 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2631f68c
[2025-03-07 14:58:26 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:26 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:26 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2025-03-07 14:58:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 97 ms. Found 18 JPA repository interfaces.
[2025-03-07 14:58:27 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:58:27 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:58:27 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.
[2025-03-07 14:58:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat initialized with port 8080 (http)
[2025-03-07 14:58:27 [main] INFO  o.a.catalina.core.StandardService] Starting service [Tomcat]
[2025-03-07 14:58:27 [main] INFO  o.a.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.36]
[2025-03-07 14:58:27 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[2025-03-07 14:58:27 [main] DEBUG o.s.b.w.s.c.ServletWebServerApplicationContext] Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
[2025-03-07 14:58:27 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 1700 ms
[2025-03-07 14:58:27 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
[2025-03-07 14:58:27 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping servlets: dispatcherServlet urls=[/]
[2025-03-07 14:58:27 [main] DEBUG o.s.b.w.s.f.OrderedRequestContextFilter] Filter 'requestContextFilter' configured for use
[2025-03-07 14:58:27 [main] DEBUG o.s.b.w.s.f.OrderedCharacterEncodingFilter] Filter 'characterEncodingFilter' configured for use
[2025-03-07 14:58:27 [main] DEBUG o.s.b.w.s.f.OrderedFormContentFilter] Filter 'formContentFilter' configured for use
[2025-03-07 14:58:27 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:27 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:27 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:27 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:27 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:28 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[2025-03-07 14:58:28 [main] INFO  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6f240187
[2025-03-07 14:58:28 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] set client_min_messages = WARNING
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKg0kyf1gbyr6lwu0iumorpgqv6
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" drop constraint if exists FKqybncm6c5iudwye9hdht6rxbq
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FK2adqfbphgg2arjwqwivpc75ds
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FK3dckb4tao7buu37aamq0kprfm
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book drop constraint if exists FKsnmbsrop5evsoiy5fgnnuisre
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKquddbm52fmsf9mpynxiu4f03i
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books drop constraint if exists FKdolwn15jycv0ksyhydub2xplu
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKthii9cpr90jk2cf30qqhrpodi
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors drop constraint if exists FKkihxjrhtgy1t03ttdivy1misg
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FKm10txued3b7lehw83x2ol8q58
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre drop constraint if exists FK8uwo17by58tqxegx09f90bdbm
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKm15v5yq7ckv98mhxbhlkpe298
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres drop constraint if exists FKai44sfnl5ywap4186w6h5tyac
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKa63sbbvsikyityfy174i8lsvg
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language drop constraint if exists FKe29wgv68l62d9scco43s65ch5
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FKll7qdwgjnmw5600yq1vx4i0rn
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses drop constraint if exists FK6e18k1gatjy6gs7q1icakri98
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK5wyn87d9nw0j8x98toosovdua
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations drop constraint if exists FK3kpfvd84pxte4edaruqbchuxv
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKbmdppg9ftaaoq7adilxub8hvo
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status drop constraint if exists FKowulfmlt929t43hmy8o7bxq0g
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKkxg9brblfr1gedl1lteal7c3t
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKgmnpso59cl1ofp686u9s0x0mj
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation drop constraint if exists FKodwoyo8500n6jwp8dcxyfi7fn
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings drop constraint if exists FK71rcgr4fu0kpcjvfn2xdwldnu
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings drop constraint if exists FKp0k94jmkyti0mjs5c5ogj053w
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf drop constraint if exists FKa0hcekyw3gvdpq06qdul0yl9y
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FKsencsq2y9e9k4mq0vvb431hyq
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books drop constraint if exists FK2gwli8nv8yhkygfk4k9vkoc5r
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FK6bf3iv4jb05pvgko20md1vnhx
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKcrt3r07eir3tnxmtorroljt2b
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists borrow drop constraint if exists FKo6699pip10k6hsldtjbn846uo
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKq2khfncin6wq582w4gykd7bqo
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves drop constraint if exists FKjcoof78lp3shpu2su2qmsenl9
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists entry_code drop constraint if exists FKornnaqf5kmqy4qgg6iw2x43rc
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists notification drop constraint if exists FKnosulxdrf81d3yyo9w2vq5shi
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists ordering_books drop constraint if exists FKi26d365qgpl45rygl9fufr7lw
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKgj4elkqd5pg78t1urewuhnfks
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books drop constraint if exists FKdy7kki3evupfeagamxrtq1tgh
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists "user" drop constraint if exists FK66pempyucigmjpecjl2ay1wxh
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists "user_role_users_with_this_role" cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists book cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists book_author cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists book_author_authored_books cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists book_authors cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists book_genre_books_with_genre cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists book_genres cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists book_language cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists book_language_books_with_this_language cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists book_publishing_houses cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists book_relation_book_to_book_relations cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists book_status cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists book_status_books_with_status cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists book_to_book_relation cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists books_arriving cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists books_arriving_orderings cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists bookshelf_books cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists borrow cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists borrow_status cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists cabinet_shelves cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists entry_code cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists notification cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists ordering_books cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists publishing_house_published_books cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists "user" cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] drop table if exists user_role cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table "user_role_users_with_this_role" (user_role_role_id integer not null, "users_with_this_role_user_id" bigint not null unique)
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table book (book_status_book_status_id integer, bookshelf_shelf_id integer, language_language_id integer, pages_number integer not null, book_id bigint generated by default as identity, release_date timestamp(6), book_name varchar(255), description varchar(255), identifier varchar(255) unique, primary key (book_id))
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table book_author (author_id bigint generated by default as identity, birth_date timestamp(6), first_name varchar(255), identifier varchar(255) unique, second_name varchar(255), third_name varchar(255), primary key (author_id))
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table book_author_authored_books (authored_books_book_id bigint not null, book_author_author_id bigint not null)
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table book_authors (authors_author_id bigint not null, book_book_id bigint not null)
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table book_genre (genre_id integer generated by default as identity, genre_name varchar(255), primary key (genre_id))
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table book_genre_books_with_genre (book_genre_genre_id integer not null, books_with_genre_book_id bigint not null)
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table book_genres (genres_genre_id integer not null, book_book_id bigint not null)
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table book_language (language_id integer generated by default as identity, language_name varchar(255), primary key (language_id))
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table book_language_books_with_this_language (book_language_language_id integer not null, books_with_this_language_book_id bigint not null)
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table book_publishing_houses (book_book_id bigint not null, publishing_houses_publishing_house_id bigint not null)
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table book_relation (relation_id integer generated by default as identity, relation_name varchar(255), primary key (relation_id))
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table book_relation_book_to_book_relations (book_relation_relation_id integer not null, book_to_book_relations_relation_id integer not null unique)
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table book_status (book_status_id integer generated by default as identity, status_name varchar(255), primary key (book_status_id))
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table book_status_books_with_status (book_status_book_status_id integer not null, books_with_status_book_id bigint not null)
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table book_to_book_relation (relation_id integer generated by default as identity, relation_relation_id integer, main_book_book_id bigint, related_book_book_id bigint, relation_description varchar(255), primary key (relation_id))
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table books_arriving (arriving_dttm timestamp(6), arriving_id bigint generated by default as identity, arrived_books_details varchar(255) array, primary key (arriving_id))
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table books_arriving_orderings (books_arriving_arriving_id bigint not null, orderings_ordering_id bigint not null)
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table bookshelf (cabinet_cabinet_id integer, shelf_id integer generated by default as identity, shelf_name varchar(255), primary key (shelf_id))
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table bookshelf_books (bookshelf_shelf_id integer not null, books_book_id bigint not null unique)
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table borrow (borrow_status_borrow_status_id integer, redemption_price_if_loss integer, borrow_dttm timestamp(6), borrow_id bigint generated by default as identity, borrowed_book_book_id bigint, "borrowed_user_user_id" bigint, expected_return_date timestamp(6), primary key (borrow_id))
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table borrow_status (borrow_status_id integer generated by default as identity, status_name varchar(255), primary key (borrow_status_id))
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table cabinet (cabinet_id integer generated by default as identity, cabinet_number integer not null, cabinet_name varchar(255), primary key (cabinet_id))
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table cabinet_shelves (cabinet_cabinet_id integer not null, shelves_shelf_id integer not null unique)
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table entry_code (code_id bigint generated by default as identity, expire_date_time timestamp(6), "user_user_id" bigint unique, code varchar(255), primary key (code_id))
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table notification (notification_dttm timestamp(6), notification_id bigint generated by default as identity, "user_user_id" bigint, text varchar(255), title varchar(255), primary key (notification_id))
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table ordering_books (is_active boolean not null, expected_arrival_date timestamp(6), "ordered_administrator_user_id" bigint, ordering_dttm timestamp(6), ordering_id bigint generated by default as identity, comment varchar(255), ordered_books_details varchar(255) array, primary key (ordering_id))
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table publishing_house (publishing_house_id bigint generated by default as identity, publishing_house_name varchar(255), primary key (publishing_house_id))
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table publishing_house_published_books (published_books_book_id bigint not null, publishing_house_publishing_house_id bigint not null)
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table "user" (role_role_id integer, birth_date timestamp(6), user_id bigint generated by default as identity, email varchar(255) unique, first_name varchar(255), password varchar(255), second_name varchar(255), third_name varchar(255), primary key (user_id))
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] create table user_role (role_id integer generated by default as identity, role_name varchar(255), primary key (role_id))
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" add constraint FKg0kyf1gbyr6lwu0iumorpgqv6 foreign key ("users_with_this_role_user_id") references "user"
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists "user_role_users_with_this_role" add constraint FKqybncm6c5iudwye9hdht6rxbq foreign key (user_role_role_id) references user_role
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book add constraint FK2adqfbphgg2arjwqwivpc75ds foreign key (book_status_book_status_id) references book_status on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book add constraint FK3dckb4tao7buu37aamq0kprfm foreign key (bookshelf_shelf_id) references bookshelf on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book add constraint FKsnmbsrop5evsoiy5fgnnuisre foreign key (language_language_id) references book_language on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books add constraint FKquddbm52fmsf9mpynxiu4f03i foreign key (authored_books_book_id) references book
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_author_authored_books add constraint FKdolwn15jycv0ksyhydub2xplu foreign key (book_author_author_id) references book_author on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors add constraint FKthii9cpr90jk2cf30qqhrpodi foreign key (authors_author_id) references book_author
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_authors add constraint FKkihxjrhtgy1t03ttdivy1misg foreign key (book_book_id) references book on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre add constraint FKm10txued3b7lehw83x2ol8q58 foreign key (books_with_genre_book_id) references book
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_genre_books_with_genre add constraint FK8uwo17by58tqxegx09f90bdbm foreign key (book_genre_genre_id) references book_genre on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres add constraint FKm15v5yq7ckv98mhxbhlkpe298 foreign key (genres_genre_id) references book_genre
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_genres add constraint FKai44sfnl5ywap4186w6h5tyac foreign key (book_book_id) references book on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language add constraint FKa63sbbvsikyityfy174i8lsvg foreign key (books_with_this_language_book_id) references book
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_language_books_with_this_language add constraint FKe29wgv68l62d9scco43s65ch5 foreign key (book_language_language_id) references book_language on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses add constraint FKll7qdwgjnmw5600yq1vx4i0rn foreign key (publishing_houses_publishing_house_id) references publishing_house
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_publishing_houses add constraint FK6e18k1gatjy6gs7q1icakri98 foreign key (book_book_id) references book on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations add constraint FK5wyn87d9nw0j8x98toosovdua foreign key (book_to_book_relations_relation_id) references book_to_book_relation
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_relation_book_to_book_relations add constraint FK3kpfvd84pxte4edaruqbchuxv foreign key (book_relation_relation_id) references book_relation
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status add constraint FKbmdppg9ftaaoq7adilxub8hvo foreign key (books_with_status_book_id) references book
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_status_books_with_status add constraint FKowulfmlt929t43hmy8o7bxq0g foreign key (book_status_book_status_id) references book_status on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKkxg9brblfr1gedl1lteal7c3t foreign key (main_book_book_id) references book on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKgmnpso59cl1ofp686u9s0x0mj foreign key (related_book_book_id) references book on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists book_to_book_relation add constraint FKodwoyo8500n6jwp8dcxyfi7fn foreign key (relation_relation_id) references book_relation on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings add constraint FK71rcgr4fu0kpcjvfn2xdwldnu foreign key (orderings_ordering_id) references ordering_books
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists books_arriving_orderings add constraint FKp0k94jmkyti0mjs5c5ogj053w foreign key (books_arriving_arriving_id) references books_arriving on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf add constraint FKa0hcekyw3gvdpq06qdul0yl9y foreign key (cabinet_cabinet_id) references cabinet
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books add constraint FKsencsq2y9e9k4mq0vvb431hyq foreign key (books_book_id) references book
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists bookshelf_books add constraint FK2gwli8nv8yhkygfk4k9vkoc5r foreign key (bookshelf_shelf_id) references bookshelf
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FK6bf3iv4jb05pvgko20md1vnhx foreign key (borrow_status_borrow_status_id) references borrow_status on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FKcrt3r07eir3tnxmtorroljt2b foreign key (borrowed_book_book_id) references book on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists borrow add constraint FKo6699pip10k6hsldtjbn846uo foreign key ("borrowed_user_user_id") references "user" on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves add constraint FKq2khfncin6wq582w4gykd7bqo foreign key (shelves_shelf_id) references bookshelf
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists cabinet_shelves add constraint FKjcoof78lp3shpu2su2qmsenl9 foreign key (cabinet_cabinet_id) references cabinet
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists entry_code add constraint FKornnaqf5kmqy4qgg6iw2x43rc foreign key ("user_user_id") references "user" on delete cascade
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists notification add constraint FKnosulxdrf81d3yyo9w2vq5shi foreign key ("user_user_id") references "user"
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists ordering_books add constraint FKi26d365qgpl45rygl9fufr7lw foreign key ("ordered_administrator_user_id") references "user" on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books add constraint FKgj4elkqd5pg78t1urewuhnfks foreign key (published_books_book_id) references book
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists publishing_house_published_books add constraint FKdy7kki3evupfeagamxrtq1tgh foreign key (publishing_house_publishing_house_id) references publishing_house on delete set null
[2025-03-07 14:58:29 [main] DEBUG org.hibernate.SQL] alter table if exists "user" add constraint FK66pempyucigmjpecjl2ay1wxh foreign key (role_role_id) references user_role on delete set null
[2025-03-07 14:58:30 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'MAIL_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:30 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'MAIL_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping] 54 mappings in 'requestMappingHandlerMapping'
[2025-03-07 14:58:30 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
[2025-03-07 14:58:31 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
[2025-03-07 14:58:31 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
[2025-03-07 14:58:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat started on port 8080 (http) with context path '/'
[2025-03-07 14:58:31 [main] INFO  ru.miit.libe.LibeApplication] Started LibeApplication in 5.971 seconds (process running for 6.44)
[2025-03-07 14:58:31 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean] Application availability state LivenessState changed to CORRECT
[2025-03-07 14:58:31 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[2025-03-07 14:58:38 [SpringApplicationShutdownHook] DEBUG o.s.b.a.ApplicationAvailabilityBean] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
[2025-03-07 14:58:38 [SpringApplicationShutdownHook] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2631f68c, started on Fri Mar 07 14:58:26 MSK 2025
[2025-03-07 14:58:38 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown] Commencing graceful shutdown. Waiting for active requests to complete
[2025-03-07 14:58:38 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown] Graceful shutdown complete
[2025-03-07 14:58:38 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown initiated...
[2025-03-07 14:58:38 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown completed.
[2025-03-07 14:58:40 [main] INFO  ru.miit.libe.LibeApplication] Starting LibeApplication v0.0.1 using Java 23.0.1 with PID 4940 (D:\REPOS\libe\target\classes started by bitoche in D:\REPOS\libe)
[2025-03-07 14:58:40 [main] INFO  ru.miit.libe.LibeApplication] The following 1 profile is active: "dev"
[2025-03-07 14:58:40 [main] DEBUG o.s.boot.SpringApplication] Loading source class ru.miit.libe.LibeApplication
[2025-03-07 14:58:41 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2631f68c
[2025-03-07 14:58:41 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:41 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:41 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2025-03-07 14:58:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 82 ms. Found 18 JPA repository interfaces.
[2025-03-07 14:58:42 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:58:42 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 14:58:42 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.
[2025-03-07 14:58:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat initialized with port 8080 (http)
[2025-03-07 14:58:42 [main] INFO  o.a.catalina.core.StandardService] Starting service [Tomcat]
[2025-03-07 14:58:42 [main] INFO  o.a.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.36]
[2025-03-07 14:58:42 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[2025-03-07 14:58:42 [main] DEBUG o.s.b.w.s.c.ServletWebServerApplicationContext] Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
[2025-03-07 14:58:42 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 1709 ms
[2025-03-07 14:58:42 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
[2025-03-07 14:58:42 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping servlets: dispatcherServlet urls=[/]
[2025-03-07 14:58:42 [main] DEBUG o.s.b.w.s.f.OrderedRequestContextFilter] Filter 'requestContextFilter' configured for use
[2025-03-07 14:58:42 [main] DEBUG o.s.b.w.s.f.OrderedCharacterEncodingFilter] Filter 'characterEncodingFilter' configured for use
[2025-03-07 14:58:42 [main] DEBUG o.s.b.w.s.f.OrderedFormContentFilter] Filter 'formContentFilter' configured for use
[2025-03-07 14:58:42 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:42 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:42 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:42 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:42 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:43 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[2025-03-07 14:58:43 [main] INFO  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2520aa05
[2025-03-07 14:58:43 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[2025-03-07 14:58:45 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'MAIL_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:45 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'MAIL_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 14:58:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping] 54 mappings in 'requestMappingHandlerMapping'
[2025-03-07 14:58:45 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
[2025-03-07 14:58:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
[2025-03-07 14:58:45 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
[2025-03-07 14:58:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat started on port 8080 (http) with context path '/'
[2025-03-07 14:58:46 [main] INFO  ru.miit.libe.LibeApplication] Started LibeApplication in 5.898 seconds (process running for 6.387)
[2025-03-07 14:58:46 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean] Application availability state LivenessState changed to CORRECT
[2025-03-07 14:58:46 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
[2025-03-07 15:07:20 [SpringApplicationShutdownHook] DEBUG o.s.b.a.ApplicationAvailabilityBean] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
[2025-03-07 15:07:20 [SpringApplicationShutdownHook] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2631f68c, started on Fri Mar 07 14:58:41 MSK 2025
[2025-03-07 15:07:20 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown] Commencing graceful shutdown. Waiting for active requests to complete
[2025-03-07 15:07:20 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown] Graceful shutdown complete
[2025-03-07 15:07:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown initiated...
[2025-03-07 15:07:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Shutdown completed.
[2025-03-07 15:07:22 [main] INFO  ru.miit.libe.LibeApplication] Starting LibeApplication v0.0.1 using Java 23.0.1 with PID 8792 (D:\REPOS\libe\target\classes started by bitoche in D:\REPOS\libe)
[2025-03-07 15:07:22 [main] INFO  ru.miit.libe.LibeApplication] The following 1 profile is active: "dev"
[2025-03-07 15:07:22 [main] DEBUG o.s.boot.SpringApplication] Loading source class ru.miit.libe.LibeApplication
[2025-03-07 15:07:22 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2631f68c
[2025-03-07 15:07:23 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 15:07:23 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 15:07:23 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 15:07:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2025-03-07 15:07:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 80 ms. Found 18 JPA repository interfaces.
[2025-03-07 15:07:24 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 15:07:24 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] Code archive: C:\Users\bitoche\.m2\repository\org\springframework\boot\spring-boot\3.4.3\spring-boot-3.4.3.jar
[2025-03-07 15:07:24 [main] DEBUG o.s.b.w.e.t.TomcatServletWebServerFactory] None of the document roots [src/main/webapp, public, static] point to a directory and will be ignored.
[2025-03-07 15:07:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat initialized with port 8080 (http)
[2025-03-07 15:07:24 [main] INFO  o.a.catalina.core.StandardService] Starting service [Tomcat]
[2025-03-07 15:07:24 [main] INFO  o.a.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.36]
[2025-03-07 15:07:24 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[2025-03-07 15:07:24 [main] DEBUG o.s.b.w.s.c.ServletWebServerApplicationContext] Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
[2025-03-07 15:07:24 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 1666 ms
[2025-03-07 15:07:24 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping filters: characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105
[2025-03-07 15:07:24 [main] DEBUG o.s.b.w.s.ServletContextInitializerBeans] Mapping servlets: dispatcherServlet urls=[/]
[2025-03-07 15:07:24 [main] DEBUG o.s.b.w.s.f.OrderedRequestContextFilter] Filter 'requestContextFilter' configured for use
[2025-03-07 15:07:24 [main] DEBUG o.s.b.w.s.f.OrderedCharacterEncodingFilter] Filter 'characterEncodingFilter' configured for use
[2025-03-07 15:07:24 [main] DEBUG o.s.b.w.s.f.OrderedFormContentFilter] Filter 'formContentFilter' configured for use
[2025-03-07 15:07:24 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 15:07:24 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_HOST' in PropertySource 'systemProperties' with value of type String
[2025-03-07 15:07:24 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_PORT' in PropertySource 'systemProperties' with value of type String
[2025-03-07 15:07:24 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_NAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 15:07:24 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'DB_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 15:07:25 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[2025-03-07 15:07:25 [main] INFO  com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@26f5e45d
[2025-03-07 15:07:25 [main] INFO  com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[2025-03-07 15:07:26 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'MAIL_PASSWORD' in PropertySource 'systemProperties' with value of type String
[2025-03-07 15:07:26 [main] DEBUG o.s.b.c.p.s.ConfigurationPropertySourcesPropertyResolver$DefaultResolver] Found key 'MAIL_USERNAME' in PropertySource 'systemProperties' with value of type String
[2025-03-07 15:07:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping] 54 mappings in 'requestMappingHandlerMapping'
[2025-03-07 15:07:27 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
[2025-03-07 15:07:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
[2025-03-07 15:07:27 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
[2025-03-07 15:07:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer] Tomcat started on port 8080 (http) with context path '/'
[2025-03-07 15:07:27 [main] INFO  ru.miit.libe.LibeApplication] Started LibeApplication in 5.584 seconds (process running for 6.113)
[2025-03-07 15:07:27 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean] Application availability state LivenessState changed to CORRECT
[2025-03-07 15:07:27 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
